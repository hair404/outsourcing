(function(t){function e(e){for(var i,o,r=e[0],l=e[1],c=e[2],u=0,p=[];u<r.length;u++)o=r[u],Object.prototype.hasOwnProperty.call(n,o)&&n[o]&&p.push(n[o][0]),n[o]=0;for(i in l)Object.prototype.hasOwnProperty.call(l,i)&&(t[i]=l[i]);d&&d(e);while(p.length)p.shift()();return s.push.apply(s,c||[]),a()}function a(){for(var t,e=0;e<s.length;e++){for(var a=s[e],i=!0,r=1;r<a.length;r++){var l=a[r];0!==n[l]&&(i=!1)}i&&(s.splice(e--,1),t=o(o.s=a[0]))}return t}var i={},n={app:0},s=[];function o(e){if(i[e])return i[e].exports;var a=i[e]={i:e,l:!1,exports:{}};return t[e].call(a.exports,a,a.exports,o),a.l=!0,a.exports}o.m=t,o.c=i,o.d=function(t,e,a){o.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:a})},o.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},o.t=function(t,e){if(1&e&&(t=o(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var a=Object.create(null);if(o.r(a),Object.defineProperty(a,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var i in t)o.d(a,i,function(e){return t[e]}.bind(null,i));return a},o.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return o.d(e,"a",e),e},o.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},o.p="/";var r=window["webpackJsonp"]=window["webpackJsonp"]||[],l=r.push.bind(r);r.push=e,r=r.slice();for(var c=0;c<r.length;c++)e(r[c]);var d=l;s.push([0,"chunk-vendors"]),a()})({0:function(t,e,a){t.exports=a("56d7")},"13e3":function(t,e,a){},"171e":function(t,e,a){t.exports=a.p+"img/head.5eec1106.jpg"},"1d69":function(t,e,a){"use strict";var i=a("3b18"),n=a.n(i);n.a},"2ba6":function(t,e,a){},"3b18":function(t,e,a){},"3d41":function(t,e,a){"use strict";var i=a("c42e"),n=a.n(i);n.a},"3f35":function(t,e,a){"use strict";var i=a("ca2b"),n=a.n(i);n.a},"42f6":function(t,e,a){"use strict";var i=a("a025"),n=a.n(i);n.a},"43cf":function(t,e,a){"use strict";var i=a("59e8"),n=a.n(i);n.a},4754:function(t,e,a){},"50cf":function(t,e,a){},"56d7":function(t,e,a){"use strict";a.r(e);var i=a("2b0e"),n=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{attrs:{id:"app"}},[a("router-view")],1)},s=[],o=(a("5c0b"),a("2877")),r={},l=Object(o["a"])(r,n,s,!1,null,null,null),c=l.exports,d=a("8c4f"),u=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"backimg"},[a("v-snackbar",{attrs:{color:"error"},model:{value:t.snackbar,callback:function(e){t.snackbar=e},expression:"snackbar"}},[t._v("\n    "+t._s(t.text)+"\n    "),a("v-btn",{attrs:{text:"",color:"red"},on:{click:function(e){t.snackbar=!1}}},[t._v("\n      关闭\n    ")])],1),a("Head"),a("div",{staticClass:"hover"},[a("div",{staticClass:"blur"}),a("div",{staticClass:"cover"}),a("h1",{staticClass:"title"},[t._v("人力和项目服务平台")]),a("form",{attrs:{id:"login"}},[a("div",{staticClass:"content"},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.username,expression:"username"}],attrs:{name:"name",id:"account",type:"text",placeholder:"账号或者E-mail",required:""},domProps:{value:t.username},on:{input:function(e){e.target.composing||(t.username=e.target.value)}}}),a("input",{directives:[{name:"model",rawName:"v-model",value:t.password,expression:"password"}],attrs:{name:"password",id:"password",type:"password",placeholder:"密码",required:""},domProps:{value:t.password},on:{input:function(e){e.target.composing||(t.password=e.target.value)}}}),a("select",{directives:[{name:"model",rawName:"v-model",value:t.type,expression:"type"}],on:{change:function(e){var a=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){var e="_value"in t?t._value:t.value;return e}));t.type=e.target.multiple?a:a[0]}}},[a("option",{attrs:{value:"0"}},[t._v("发包公司")]),a("option",{attrs:{value:"1"}},[t._v("工作室")])]),a("div",[a("input",{directives:[{name:"model",rawName:"v-model",value:t.code,expression:"code"}],staticStyle:{width:"60%",display:"inline-block",float:"left","margin-top":"0px"},attrs:{name:"code",placeholder:"验证码",required:""},domProps:{value:t.code},on:{input:function(e){e.target.composing||(t.code=e.target.value)}}}),a("v-img",{staticClass:"d-inline-block",staticStyle:{"margin-left":"28px",float:"right"},attrs:{width:"100",src:"/Platform/code"}})],1)]),a("br"),a("div",{staticClass:"button"},[a("v-btn",{staticStyle:{width:"80%"},on:{click:t.submit}},[t._v("登录")]),a("br"),a("br"),a("button",{on:{click:function(e){return t.$router.push("/register")}}},[t._v("\n          注册\n        ")])],1)])])],1)},p=[],v=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticStyle:{width:"60%",height:"42px",margin:"0 auto"}},[a("div",{staticClass:"nav"},[a("ul",[a("li",[a("router-link",{attrs:{to:"/home"}},[t._v("首页")])],1),a("li",[a("router-link",{attrs:{to:"/search"}},[t._v("全部招标")])],1),a("li",[a("router-link",{attrs:{to:"/search"}},[t._v("全部工作室")])],1)])])])},m=[],f={name:"Head"},h=f,b=(a("b977"),Object(o["a"])(h,v,m,!1,null,"760ff3bb",null)),g=b.exports,y=a("bc3a"),_=a.n(y),x={name:"Login",components:{Head:g},data(){return{username:"",password:"",code:"",type:0,snackbar:!1,text:""}},methods:{submit:function(t){let e=new FormData;e.append("name",this.username),e.append("password",this.password),e.append("type",this.type),e.append("code",this.code),_.a.post("/Platform/login",e).then(t=>{if("success"===t.data){this.$router.push({path:"/home"});var e=window.OneSignal||[];e.getUserId((function(t){_.a.post("/Platform/token",t).then(t=>{"success"!==t.data&&console.log("token上传失败")}).catch(t=>{console.log(t)})}))}else this.text="密码错误或者未注册",this.snackbar=!0}).catch((function(t){this.text="服务器错误",this.snackbar=!0,console.log(t)}))}}},k=x,w=(a("1d69"),a("6544")),C=a.n(w),V=a("8336"),S=a("adda"),j=a("2db4"),I=Object(o["a"])(k,u,p,!1,null,"3fcfb574",null),P=I.exports;C()(I,{VBtn:V["a"],VImg:S["a"],VSnackbar:j["a"]});var $=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"body"},[a("v-snackbar",{attrs:{color:"error"},model:{value:t.snackbar,callback:function(e){t.snackbar=e},expression:"snackbar"}},[t._v("\n    "+t._s(t.text)+"\n    "),a("v-btn",{attrs:{text:"",color:"red"},on:{click:function(e){t.snackbar=!1}}},[t._v("\n      关闭\n    ")])],1),a("Head"),a("div",{staticClass:"hover"},[a("div",{staticClass:"blur"}),a("div",{staticClass:"cover"}),a("v-icon",{staticStyle:{cursor:"pointer",position:"absolute","margin-left":"10%","margin-top":"25px","z-index":"10"},on:{click:function(e){return t.$router.push({path:"/login"})}}},[t._v("mdi-arrow-left-circle")]),a("h1",[t._v("注册")]),a("form",{staticClass:"content",attrs:{id:"form"},on:{submit:function(e){return e.preventDefault(),t.submit(e)}}},[a("select",{directives:[{name:"model",rawName:"v-model",value:t.type,expression:"type"}],on:{change:function(e){var a=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){var e="_value"in t?t._value:t.value;return e}));t.type=e.target.multiple?a:a[0]}}},[a("option",{attrs:{value:"0"}},[t._v("发包公司")]),a("option",{attrs:{value:"1"}},[t._v("工作室")]),a("option",{attrs:{value:"2"}},[t._v("管理员")])]),a("input",{directives:[{name:"model",rawName:"v-model",value:t.username,expression:"username"}],attrs:{placeholder:t.userTypeName[t.type],type:"text",required:""},domProps:{value:t.username},on:{input:function(e){e.target.composing||(t.username=e.target.value)}}}),a("input",{directives:[{name:"model",rawName:"v-model",value:t.name,expression:"name"}],attrs:{placeholder:"联系人姓名",type:"text",required:""},domProps:{value:t.name},on:{input:function(e){e.target.composing||(t.name=e.target.value)}}}),a("input",{directives:[{name:"model",rawName:"v-model",value:t.phone,expression:"phone"}],attrs:{placeholder:"电话",type:"text",required:""},domProps:{value:t.phone},on:{input:function(e){e.target.composing||(t.phone=e.target.value)}}}),a("input",{directives:[{name:"model",rawName:"v-model",value:t.password,expression:"password"}],attrs:{placeholder:"密码",type:"password",required:""},domProps:{value:t.password},on:{input:function(e){e.target.composing||(t.password=e.target.value)}}}),a("input",{directives:[{name:"model",rawName:"v-model",value:t.repeatpassword,expression:"repeatpassword"}],attrs:{placeholder:"重复密码",type:"password",required:""},domProps:{value:t.repeatpassword},on:{click:t.check,input:function(e){e.target.composing||(t.repeatpassword=e.target.value)}}}),a("input",{directives:[{name:"model",rawName:"v-model",value:t.email,expression:"email"}],attrs:{placeholder:"邮箱",type:"email",required:""},domProps:{value:t.email},on:{input:function(e){e.target.composing||(t.email=e.target.value)}}}),a("button",[t._v("注册")])])],1)],1)},L=[],T={name:"register",components:{Head:g},data(){return{userTypeName:["公司名","工作室名","管理员名称"],username:"",name:"",phone:"",password:"",repeatpassword:"",email:"",snackbar:!1,text:"",type:0}},methods:{submit:function(){if(this.password!==this.repeatpassword)return this.text="密码不匹配!",this.snackbar=!0,!1;let t=new FormData;t.append("username",this.username),t.append("name",this.name),t.append("phone",this.phone),t.append("password",this.password),t.append("email",this.email),t.append("type",this.type),_.a.post("/Platform/register",t).then(t=>{if("success"===t.data){this.$router.push({path:"./home"});var e=window.OneSignal||[];e.getUserId((function(t){_.a.post("/Platform/token",t).then(t=>{"success"!==t.data&&console.log("token上传失败")}).catch(t=>{console.log(t)})}))}}).catch((function(t){console.log(t),this.text="服务器错误",this.snackbar=!0}))},check:function(){this.password.length<6&&(this.text="密码太短!",this.snackbar=!0)}}},D=T,O=(a("7d05"),a("132d")),N=Object(o["a"])(D,$,L,!1,null,"07a620d0",null),A=N.exports;C()(N,{VBtn:V["a"],VIcon:O["a"],VSnackbar:j["a"]});var E=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-app",{staticStyle:{background:"rgb(246, 246, 246)"}},[a("v-snackbar",{attrs:{color:t.snackbar.color},model:{value:t.snackbar.open,callback:function(e){t.$set(t.snackbar,"open",e)},expression:"snackbar.open"}},[t._v("\n    "+t._s(t.snackbar.text)+"\n    "),a("v-btn",{attrs:{text:""},on:{click:function(e){t.snackbar.open=!1}}},[t._v("\n      关闭\n    ")])],1),a("Nav",{attrs:{isLoged:t.infoLoaded,nick:t.info.username,img:t.info.avatar,ctg:t.ctg},on:{keyword:t.search}}),a("div",{staticClass:"d-block d-sm-none"},[a("div",{staticStyle:{height:"15px",width:"100%"}})]),a("Ctg",{staticClass:"d-none d-sm-flex",attrs:{ctg:t.ctg}}),a("v-content",[a("keep-alive",{attrs:{include:"search,detail,show"}},[a("router-view",{attrs:{info:t.info,infoLoaded:t.infoLoaded,keyword:t.keyword,snackbar:t.snackbar}})],1)],1)],1)},B=[],q=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",[i("v-dialog",{model:{value:t.dialog,callback:function(e){t.dialog=e},expression:"dialog"}},[i("v-card",{attrs:{height:"100px"}},[i("v-card-title",{staticStyle:{display:"inline-block"}},[t._v("消息")]),i("v-card-title",{staticStyle:{display:"inline-block",float:"right"}},[i("v-btn",{attrs:{text:""}},[t._v("清除通知")])],1),0===t.message.length?i("div",{staticClass:"subtitle-1",staticStyle:{"margin-left":"40%"}},[t._v("无通知")]):i("v-list",[i("v-list-item-group",{attrs:{color:"primary"}},t._l(t.message,(function(e,a){return i("v-list-item",{key:a,on:{click:function(t){return this.$router.push(e.url)}}},[i("v-list-item-content",[i("v-list-item-title",[t._v(t._s(e.title))]),i("v-list-item-subtitle",[t._v(t._s(e.body))])],1)],1)})),1)],1)],1)],1),i("v-app-bar",{staticClass:"d-block d-md-none",attrs:{color:"primary",fixed:"",dark:"","shrink-on-scroll":"",prominent:"",src:"https://picsum.photos/1920/1080?random","fade-img-on-scroll":""},scopedSlots:t._u([{key:"img",fn:function(e){var a=e.props;return[i("v-img",t._b({attrs:{gradient:"to top right, rgba(100,115,201,.7), rgba(25,32,72,.7)"}},"v-img",a,!1))]}}])},[i("v-app-bar-nav-icon",{on:{click:function(e){t.drawer=!t.drawer}}}),i("v-toolbar-title",{staticClass:"title"},[t._v("外包服务平台")]),i("v-spacer"),t.searchBar?t._e():i("v-btn",{attrs:{icon:""},on:{click:function(e){t.searchBar=!0}}},[i("v-icon",[t._v("mdi-magnify")])],1),i("v-form",{on:{submit:function(e){return e.preventDefault(),t.search(e)}}},[t.searchBar?i("v-text-field",{attrs:{height:"30px",type:"text",label:"你想搜索",filled:""},model:{value:t.keywords,callback:function(e){t.keywords=e},expression:"keywords"}}):t._e()],1),t.searchBar?i("v-btn",{attrs:{icon:""},on:{click:function(e){t.searchBar=!1}}},[i("v-icon",[t._v("mdi-close")])],1):t._e(),i("v-menu",{attrs:{"open-on-hover":"","offset-y":"","nudge-left":"50%"},scopedSlots:t._u([{key:"activator",fn:function(e){var a=e.on;return[i("v-btn",t._g({attrs:{icon:""},on:{click:function(e){t.window.innerWidth<600&&(t.dialog=!0)}}},a),[i("v-icon",[t._v("mdi-bell")])],1)]}}])},[i("v-list",{staticClass:"d-none d-sm-flex"},[i("v-subheader",{staticStyle:{float:"left"}},[t._v("消息")]),i("v-subheader",{staticStyle:{float:"right"}},[i("v-btn",{attrs:{text:""}},[t._v("清除通知")])],1),i("v-list-item-group",{attrs:{color:"primary"}},t._l(t.message,(function(e,a){return i("v-list-item",{key:a,on:{click:function(t){return this.router.push(e.url)}}},[i("v-list-item-content",[i("v-list-item-title",[t._v(t._s(e.title))]),i("v-list-item-subtitle",[t._v(t._s(e.body))])],1)],1)})),1)],1)],1)],1),i("div",{staticClass:"d-block d-md-none",staticStyle:{width:"100%",height:"128px"}}),i("div",{staticClass:"head d-none d-md-block"},[t._m(0),i("div",{staticClass:"cover"}),i("div",{staticClass:"wrapper",staticStyle:{overflow:"hidden"}},[i("div",{staticClass:"nav d-none d-sm-flex"},[i("ul",t._l(t.menu,(function(e,a){return i("li",{directives:[{name:"ripple",rawName:"v-ripple"}],key:a},[i("router-link",{attrs:{to:{name:e.path,params:{type:a-1}}}},[t._v(t._s(e.name))])],1)})),0)]),i("v-icon",{staticClass:"nav d-flex d-sm-none",staticStyle:{"line-height":"42px"},attrs:{color:"black"},on:{click:function(e){t.drawer=!t.drawer}}},[t._v("mdi-menu")]),i("div",{staticStyle:{float:"right",height:"42px"}},[i("div",{staticClass:"nav d-none d-sm-flex",staticStyle:{float:"right",height:"42px"}},[i("div",{staticClass:"account",on:{click:function(e){t.isLoged?t.$router.push({path:"/Center"}):t.$router.push({path:"/Login"})}}},[i("div",[t._v(t._s(t.isLoged?t.nick:"游客"))]),t.isLoged?i("img",{attrs:{src:"/Platform"+t.img}}):t._e()])]),i("v-menu",{attrs:{"open-on-hover":"","offset-y":"","nudge-left":"50%"},scopedSlots:t._u([{key:"activator",fn:function(e){var a=e.on;return[i("div",t._g({staticClass:"message",on:{click:function(e){t.window.innerWidth<600&&(t.dialog=!0)}}},a),[t._v("消息")])]}}])},[i("v-list",{staticClass:"d-none d-sm-flex"},[i("v-subheader",{staticStyle:{float:"left"}},[t._v("消息")]),i("v-subheader",{staticStyle:{float:"right"}},[i("v-btn",{attrs:{text:""}},[t._v("清除通知")])],1),i("v-list-item-group",{attrs:{color:"primary"}},t._l(t.message,(function(e,a){return i("v-list-item",{key:a,on:{click:function(t){return this.router.push(e.url)}}},[i("v-list-item-content",[i("v-list-item-title",[t._v(t._s(e.title))]),i("v-list-item-subtitle",[t._v(t._s(e.body))])],1)],1)})),1)],1)],1)],1)],1)]),i("v-parallax",{staticClass:"d-none d-md-block",staticStyle:{"margin-top":"-50px"},attrs:{height:"170",src:a("bbb6")}},[i("div",{staticClass:"logo"},[i("img",{attrs:{src:a("5fbe")}})]),i("form",{staticClass:"_search",attrs:{id:"search"},on:{submit:function(e){return e.preventDefault(),t.search(e)}}},[i("input",{directives:[{name:"model",rawName:"v-model",value:t.keywords,expression:"keywords"}],attrs:{type:"text",placeholder:"你想搜索"},domProps:{value:t.keywords},on:{input:function(e){e.target.composing||(t.keywords=e.target.value)}}}),i("button",{staticStyle:{background:"transparent",border:"transparent"},attrs:{type:"submit"}},[i("v-icon",{staticStyle:{"line-height":"30px",cursor:"pointer"},attrs:{color:"primary"}},[t._v("mdi-magnify")])],1)])]),i("v-navigation-drawer",{attrs:{fixed:"",temporary:""},model:{value:t.drawer,callback:function(e){t.drawer=e},expression:"drawer"}},[t.isLoged?i("v-list-item",{on:{click:function(e){return t.$router.push({path:"/Center"})}}},[i("v-list-item-avatar",[i("v-img",{attrs:{src:"/Platform"+t.img}})],1),i("v-list-item-content",[i("v-list-item-title",[t._v(t._s(t.nick))])],1)],1):i("v-list-item",[i("v-list-item-content",[i("v-list-item-title",{on:{click:function(e){return t.$router.push({path:"/Login"})}}},[t._v("游客")])],1)],1),i("v-divider"),i("v-list",{attrs:{shaped:""}},[i("v-list-item-group",{attrs:{color:"primary"},model:{value:t.menuSelected,callback:function(e){t.menuSelected=e},expression:"menuSelected"}},t._l(t.menu,(function(e,a){return i("v-list-item",{key:a},[i("v-list-item-title",{on:{click:function(a){return t.$router.push({path:e.path})}}},[t._v(t._s(e.name))])],1)})),1)],1),i("v-divider"),i("v-list",{attrs:{rounded:""}},[i("v-subheader",[t._v("分类")]),t._l(t.ctg.slice(1),(function(e,a){return[null==e.subctg?i("v-list-item",{key:a},[i("v-list-item-title",[i("router-link",{attrs:{to:{name:"search",params:{ctg:a+1}}},nativeOn:{click:function(e){t.menuSelected=1}}},[t._v(t._s(e.name))])],1)],1):i("v-list-group",{key:a,scopedSlots:t._u([{key:"activator",fn:function(){return[i("v-list-item-title",[i("router-link",{attrs:{to:{name:"search",params:{ctg:a+1}}},nativeOn:{click:function(e){t.menuSelected=1}}},[t._v(t._s(e.name))])],1)]},proxy:!0}],null,!0)},t._l(e.subctg,(function(e,n){return i("v-list-item",{key:n},[i("v-list-item-title",[i("router-link",{attrs:{to:{name:"search",params:{ctg:a+1,subctg:n+1}}},nativeOn:{click:function(e){t.menuSelected=1}}},[t._v(t._s(e))])],1)],1)})),1)]}))],2)],1)],1)},F=[function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticStyle:{overflow:"hidden",width:"100%",height:"42px",position:"absolute","z-index":"-1"}},[i("img",{staticClass:"blur",attrs:{src:a("171e")}})])}],R={name:"Nav",props:{isLoged:Boolean,nick:String,img:String,ctg:Array},data(){return{drawer:null,searchBar:!1,menu:[{name:"首页",path:"home"},{name:"全部招标",path:"search"},{name:"全部工作室",path:"search"}],menuSelected:0,keywords:"",dialog:!1,message:[],window:window}},methods:{search(){"/search"===this.$route.path?this.$emit("keyword",this.keywords):(this.$emit("keyword",this.keywords),this.$router.push({path:"/search"}))}},created(){_.a.post("/Platform/notify").then(t=>{this.message=t.data}).catch(t=>{console.log(t)})}},z=R,M=(a("42f6"),a("40dc")),H=a("5bc1"),U=a("b0af"),J=a("99d9"),W=a("169a"),G=a("ce7e"),Y=a("4bd4"),K=a("8860"),Q=a("56b0"),X=a("da13"),Z=a("8270"),tt=a("5d23"),et=a("1baa"),at=a("e449"),it=a("f774"),nt=a("8b9c"),st=a("2fa4"),ot=a("e0c7"),rt=a("8654"),lt=a("2a7f"),ct=a("269a"),dt=a.n(ct),ut=a("5607"),pt=Object(o["a"])(z,q,F,!1,null,"2b108abe",null),vt=pt.exports;C()(pt,{VAppBar:M["a"],VAppBarNavIcon:H["a"],VBtn:V["a"],VCard:U["a"],VCardTitle:J["d"],VDialog:W["a"],VDivider:G["a"],VForm:Y["a"],VIcon:O["a"],VImg:S["a"],VList:K["a"],VListGroup:Q["a"],VListItem:X["a"],VListItemAvatar:Z["a"],VListItemContent:tt["a"],VListItemGroup:et["a"],VListItemSubtitle:tt["b"],VListItemTitle:tt["c"],VMenu:at["a"],VNavigationDrawer:it["a"],VParallax:nt["a"],VSpacer:st["a"],VSubheader:ot["a"],VTextField:rt["a"],VToolbarTitle:lt["a"]}),dt()(pt,{Ripple:ut["a"]});var mt=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"wrapper"},[a("div",{staticClass:"categories nav",staticStyle:{"overflow-x":"auto"}},[a("ul",{attrs:{id:"ctg"}},t._l(t.ctg,(function(e,i){return a("li",{key:i},[a("router-link",{attrs:{to:{name:"search",params:{ctg:i}}}},[t._v(t._s(e.name))]),a("ul",{staticClass:"selection card",staticStyle:{width:"100px",position:"absolute"}},t._l(e.subctg,(function(e,n){return a("li",{key:e},[a("router-link",{attrs:{to:{name:"search",params:{ctg:i,subctg:n+1}}}},[t._v(t._s(e))])],1)})),0)],1)})),0)])])},ft=[],ht={name:"Ctg",props:{ctg:Array}},bt=ht,gt=(a("5d20"),Object(o["a"])(bt,mt,ft,!1,null,null,null)),yt=gt.exports;const _t=["企业","工作室","管理员","游客"],xt=[{name:"全部"},{name:"网站开发",subctg:["前端开发","网站维护"]},{name:"移动应用开发",subctg:["安卓APP","苹果APP"]},{name:"H5开发",subctg:["H5模板","H5定制"]},{name:"UI设计",subctg:["网站UI","移动UI"]},{name:"测试运维"},{name:"云服务"},{name:"IT综合服务"}];function kt(){_.a.post("getCtg").then(t=>{t.data&&xt.response.data}).catch(t=>{console.log(t)})}function wt(t){var e=[];for(var a in t)e.push(a+"="+t[a]);return e.join("&")}function Ct(t,e,a){return t?a?a(t):t:e}function Vt(t,e,a){return e||(e=[]),t.forEach((t,i)=>{e.push(a?a(t,i):{text:t,value:i})}),e}Array.prototype.contain=function(t){for(var e=0;e<this.length;e++)if(JSON.stringify(this[e])===JSON.stringify(t))return!0;return!1};var St={type:_t,ctg:xt,refreshCtg:kt,toFormData:wt,getReal:Ct,getTextValue:Vt},jt={components:{Nav:vt,Ctg:yt},data(){return{info:{},infoLoaded:!1,ctg:St.ctg,keyword:"",snackbar:{open:!1,color:"primary",text:"错误"}}},methods:{loadinfo(){_.a.post("/Platform/info","type=basic").then(t=>{"NotLogin"!==t.data&&(this.infoLoaded=!0,this.info=t.data)}).catch(t=>{console.log(t)})},search(t){this.keyword=t}},created(){St.refreshCtg(),this.loadinfo()}},It=jt,Pt=(a("8fc1"),a("7496")),$t=a("a75b"),Lt=Object(o["a"])(It,E,B,!1,null,null,null),Tt=Lt.exports;C()(Lt,{VApp:Pt["a"],VBtn:V["a"],VContent:$t["a"],VSnackbar:j["a"]});var Dt=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"wrapper d-flex flex-wrap"},[a("v-dialog",{attrs:{"max-width":"400"},model:{value:t.dialog,callback:function(e){t.dialog=e},expression:"dialog"}},[1===t.state?a("v-card",[a("v-card-title",[t._v("确认？")]),a("v-card-actions",[a("v-spacer"),a("v-btn",{attrs:{color:"primary",text:""},on:{click:function(e){0===t.info.type?t.action(0,{studioid:t.id},(function(){t.state=2})):t.action(0),t.dialog=!1}}},[t._v("确认")]),a("v-btn",{attrs:{color:"primary",text:""},on:{click:function(e){t.dialog=!1}}},[t._v("取消")])],1)],1):t._e(),2===t.state&&1==t.info.type&&0===t.projectInfo.isform?a("v-card",[a("v-card-title",[t._v("添加进度")]),a("v-card-text",[a("v-form",{ref:"form",attrs:{"lazy-validation":""},model:{value:t.valid,callback:function(e){t.valid=e},expression:"valid"}},[a("v-text-field",{attrs:{label:"进度名",rules:[function(t){return!!t||"必需项"}],required:""},model:{value:t.step.name,callback:function(e){t.$set(t.step,"name",e)},expression:"step.name"}}),a("v-text-field",{attrs:{label:"进度详情(可选)"},model:{value:t.step.info,callback:function(e){t.$set(t.step,"info",e)},expression:"step.info"}}),a("v-text-field",{attrs:{label:"所需时间(天数)",type:"number",rules:[function(t){return t>0||"天数必须大于0"}],required:""},model:{value:t.step.time,callback:function(e){t.$set(t.step,"time",e)},expression:"step.time"}})],1),a("v-card-actions",[a("v-spacer"),a("v-btn",{attrs:{color:"primary",text:""},on:{click:function(e){return t.add()}}},[t._v("添加")])],1)],1)],1):t._e(),2==t.state&&0==t.info.type&&0===t.projectInfo.isform&&0===t.projectInfo.issetprice?a("v-card",[a("v-card-title",[t._v("确认？")]),a("v-card-actions",[a("v-spacer"),a("v-btn",{attrs:{color:"primary",text:""},on:{click:function(e){t.action(3),t.dialog=!1}}},[t._v("确认")]),a("v-btn",{attrs:{color:"primary",text:""},on:{click:function(e){t.dialog=!1}}},[t._v("取消")])],1)],1):t._e(),7===t.state?a("v-card",[a("v-card-title",[t._v("我要申诉")]),a("v-card-text",[a("v-form",{ref:"form"},[a("v-text-field",{attrs:{filled:"",label:"原因"},model:{value:t.reason,callback:function(e){t.reason=e},expression:"reason"}}),a("v-text-field",{staticStyle:{display:"inline-block",width:"90%"},attrs:{rules:[function(t){return t<=100&&t>0||"必须小于100大于0"}],type:"Number",label:"我要求退回金额（需要赔偿金额的百分比）",required:""},model:{value:t.money,callback:function(e){t.money=e},expression:"money"}}),a("div",{staticStyle:{display:"inline-block",width:"10%","text-align":"center"}},[t._v("%")])],1)],1),a("v-card-actions",[a("v-spacer"),a("v-btn",{attrs:{color:"primary",text:""},on:{click:function(e){t.$refs.form.validate()&&t.action(0===t.info.type?11:12,{reason:t.reason,money:t.money},(function(){t.state+=1}))}}},[t._v("提交")])],1)],1):t._e()],1),a("v-container",[a("v-row",{directives:[{name:"resize",rawName:"v-resize",value:t.onResize,expression:"onResize"}]},[a("v-col",{attrs:{cols:t.cols}},[a("Prjinfo",{attrs:{info:t.projectInfo}})],1),a("v-col",{attrs:{cols:"4"}},[a("MyInfo",{attrs:{height:300,info:t.displayInfo,infoLoaded:t.infoLoaded,isOthers:""}})],1)],1),a("v-row",[a("v-col",{attrs:{cols:"12"}},[t.state<6?a("v-stepper",{staticStyle:{width:"100%"},attrs:{vertical:t.vertical},model:{value:t.state,callback:function(e){t.state=e},expression:"state"}},[t.vertical?t._e():a("v-stepper-header",[t._l(t.steps,(function(e,i){return[a("v-stepper-step",{key:i+"-step",attrs:{complete:t.state>i+1,step:i+1}},[t._v("\n                "+t._s(e)+"\n              ")]),i+1!==5?a("v-divider",{key:i}):t._e()]}))],2),t._l(t.steps,(function(e,i){return[t.vertical?a("v-stepper-step",{key:i,attrs:{complete:t.state>i+1,step:i+1}},[t._v(t._s(e)+"\n              "),t.state===i+1?a("div",{staticStyle:{position:"absolute",right:"20px"}},[1!==t.state||1!==t.info.type||t.isEnter?t._e():a("v-btn",{staticStyle:{"margin-right":"10px"},attrs:{outlined:"",color:"red"},on:{click:function(e){t.dialog=!0}}},[t._v("我要竞标")]),2===t.state&&1===t.info.type&&0===t.projectInfo.isform?[a("div",{staticClass:"d-inline mr-4"},[t._v(t._s("剩余可以分配的时间："+t.getLeftTime(t.projectInfo.deadline)))]),a("v-btn",{staticStyle:{"margin-right":"10px"},attrs:{outlined:"",color:"error"},on:{click:function(e){return t.deleteItem()}}},[t._v("删除所选")]),a("v-btn",{attrs:{outlined:"",color:"primary"},on:{click:function(e){e.stopPropagation(),t.dialog=!0}}},[t._v("添加")])]:t._e()],2):t._e()]):t._e(),a("v-stepper-content",{key:10*(i+1),style:t.vertical||t.state===i+1?"":"display:none",attrs:{step:i+1}},[i+1===1&&1===t.state&&0===t.info.type&&"self"===t.projectInfo.companyID?a("LoadCard",{attrs:{isActiveLoad:"",isLoaded:t.infoLoaded,cardsProp:t.enroll,type:0,extraText:function(t){return"报价："+t.quote},btnText:"self"===t.projectInfo.companyID?"中标":null,callback:t.win}}):t._e(),i+1===1&&1===t.state&&t.isEnter?a("div",{staticClass:"headline"},[t._v("您已经进入投标，请耐心等待结果")]):t._e(),i+1===2&&2===t.state?[1==t.info.type&&0===t.projectInfo.isform||0===t.info.type&&0===t.projectInfo.issetprice&&1===t.projectInfo.isform||1===t.info.type&&1===t.projectInfo.isform&&1===t.projectInfo.issetprice?a("div",[a("Table",{ref:"table",refInFor:!0,attrs:{data:t.table,isCompany:0===t.info.type,isPriceCol:1==t.info.type&&0===t.projectInfo.isform,headers:t.headers,itemkey:"name"}}),1===t.info.type&&1===t.projectInfo.isform&&1===t.projectInfo.issetprice?a("v-btn",{staticClass:"my-4",attrs:{color:"primary",outlined:""},on:{click:function(e){t.action(4,{},(function(){t.state=3}))}}},[t._v("确认")]):a("v-btn",{staticClass:"my-4",attrs:{color:"primary",outlined:""},on:{click:function(e){t.action(1,{table:JSON.stringify(t.table)},(function(){1===t.info.type?t.projectInfo.isform=1:t.projectInfo.issetprice=1}))}}},[t._v("提交")])],1):a("v-card",{staticClass:"mx-auto",attrs:{width:"100%",height:"200",outlined:""}},[0==t.info.type&&1===t.projectInfo.isform?a("div",{staticStyle:{padding:"40px 0 5px 16px"}},[t._v("等待工作室确认进度款")]):0==t.info.type?a("div",{staticStyle:{padding:"40px 0 5px 16px"}},[t._v("等待工作室制定进度表")]):t._e(),1==t.info.type?a("div",{staticStyle:{padding:"40px 0 5px 16px"}},[t._v("等待公司制定进度款")]):t._e(),a("v-card-actions",{staticStyle:{"padding-top":"80px"}},[a("v-btn",{attrs:{color:"primary",text:"",outlined:""},on:{click:function(e){return t.action(2)}}},[t._v("催促对方尽快完成")]),a("v-btn",{attrs:{color:"error",text:"",outlined:""},on:{click:function(e){t.dialog=!0}}},[t._v("要求取消项目")])],1)],1)]:t._e(),i+1===3&&3===t.state?a("Paid",{attrs:{info:t.info,prjinfo:t.projectInfo},on:{submit:t.action}}):t._e(),i+1===4&&4===t.state?a("Processing",{staticClass:"mx-auto my-1",style:t.processWidth,attrs:{data:t.table,type:t.info.type,id:t.projectInfo.id,snackbar:t.snackbar,prjinfo:t.projectInfo},on:{submit:t.action}}):t._e(),i+1===5&&5===t.state?a("Comment",{attrs:{type:t.info.type,prjinfo:t.projectInfo},on:{submit:t.action}}):t._e()],2)]}))],2):t._e(),6===t.state?a("v-card",{attrs:{width:"100%",height:"400px"}},[a("div",{staticClass:"display-1",staticStyle:{"text-align":"center","padding-top":"80px"}},[t._v("已经完成此项目")]),a("v-card-subtitle",{staticClass:"headline",staticStyle:{"text-align":"center"}},[t._v("对方的评分:")]),a("v-rating",{staticStyle:{"text-align":"center"},attrs:{"background-color":"orange",color:"orange",readonly:""},model:{value:t.projectInfo.othersRate,callback:function(e){t.$set(t.projectInfo,"othersRate",e)},expression:"projectInfo.othersRate"}}),a("v-card-subtitle",{staticClass:"headline",staticStyle:{"text-align":"center"}},[t._v("我的评分:")]),a("v-rating",{staticStyle:{"text-align":"center"},attrs:{"background-color":"orange",color:"orange",readonly:""},model:{value:t.projectInfo.myRate,callback:function(e){t.$set(t.projectInfo,"myRate",e)},expression:"projectInfo.myRate"}})],1):t._e(),7===t.state?a("v-card",{attrs:{width:"100%",height:"400px"}},[a("div",{staticClass:"display-1",staticStyle:{"text-align":"center","padding-top":"80px"}},[t._v("处于被取消状态")]),a("v-card-subtitle",{staticClass:"headline",staticStyle:{"text-align":"center"}},[t._v("在"),a("Countdown",{staticClass:"headline",attrs:{deadline:t.projectInfo.countdown}}),t._v("之前可以申诉")],1),a("v-btn",{staticClass:"mx-auto",staticStyle:{display:"block"},attrs:{outlined:"",color:"error"},on:{click:function(e){t.dialog=!0}}},[t._v("申诉")])],1):t._e(),8===t.state?a("v-card",{attrs:{width:"100%",height:"400px"}},[a("div",{staticClass:"display-1",staticStyle:{"text-align":"center","padding-top":"80px"}},[t._v("平台正在处理申诉，请耐心等候")])]):t._e()],1)],1)],1)],1)},Ot=[],Nt=a("4328"),At=a.n(Nt),Et=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-card",{staticClass:"mx-auto",attrs:{height:"300",width:"100%"}},[a("v-list-item",{attrs:{"three-line":""}},[t.info.tag?a("v-list-item-content",[a("v-list-item-title",{staticClass:"headline mb-1"},[a("v-icon",{staticClass:"mr-4 my-4",attrs:{color:"grey"},on:{click:function(e){return t.$router.back()}}},[t._v("mdi-arrow-left")]),t._v("项目名称:"+t._s(t.info.prjname)+"\n      ")],1),a("v-list-item-title",[t._v("发布时间:"+t._s(t.info.releaseTime))]),a("v-list-item-title",[t._v("截止时间:"+t._s(t.info.deadline))]),a("v-list-item-title",[t._v("整个项目截止时间:"+t._s(t.info.deadline))]),a("v-list-item-title",[t._v("薪金:"+t._s(t.info.price))]),a("v-list-item-title",[t._v("首付款:"+t._s(t.info.payinadvance))]),a("v-list-item-title",[t._v("类别:"+t._s(t.utils.ctg[t.info.tag].name)+t._s(0==t.info.subtag?"":"-"+t.utils.ctg[t.info.tag].subctg[t.info.subtag-1]))]),a("v-list-item-title",[t._v("其他信息:"+t._s(t.info.info))])],1):t._e(),a("v-img",{staticClass:"img",attrs:{"max-height":"100","max-width":"100",src:"/Platform"+t.info.img}})],1)],1)},Bt=[],qt={props:{info:Object},data(){return{utils:St}}},Ft=qt,Rt=(a("854c"),Object(o["a"])(Ft,Et,Bt,!1,null,"090da37b",null)),zt=Rt.exports;C()(Rt,{VCard:U["a"],VIcon:O["a"],VImg:S["a"],VListItem:X["a"],VListItemContent:tt["a"],VListItemTitle:tt["c"]});var Mt=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"mx-auto d-none d-md-block",attrs:{"min-width":"200px"}},[t.infoLoaded?a("v-card",{attrs:{height:t.height}},[a("v-img",{staticClass:"white--text align-end",attrs:{height:t.height/2,src:"Platform/"+t.info.img}},[a("v-card-title",[t._v(t._s(t.info.username))])],1),1!=t.info.type||t.isOthers?t._e():a("v-rating",{attrs:{color:"orange","background-color":"orange",readonly:"","half-increments":""},model:{value:t.info.rating,callback:function(e){t.$set(t.info,"rating",e)},expression:"info.rating"}}),a("v-card-subtitle",{staticClass:"pb-0"},[t._v("身份")]),a("v-card-text",{staticClass:"text--primary"},[a("div",[t._v(t._s(t.utils.type[t.info.type]))])]),a("v-card-subtitle",{staticClass:"pb-0"},[t._v("邮箱")]),a("v-card-text",{staticClass:"text--primary"},[a("div",[t._v(t._s(t.info.email))])]),t.isOthers?t._e():a("v-card-actions",[a("v-btn",{attrs:{color:"primary",text:""},on:{click:function(e){return t.$router.push("/center")}}},[t._v("\n        个人中心\n      ")]),a("v-btn",{attrs:{color:"primary",text:""}},[t._v("\n        展示页面\n      ")]),a("v-btn",{attrs:{color:"red",text:""},on:{click:t.logoff}},[t._v("\n        注销\n      ")])],1)],1):a("v-card",{staticClass:"d-flex",attrs:{height:t.height}},[a("div",{staticClass:"mx-auto my-auto"},[a("v-btn",{staticClass:"d-block mb-10",attrs:{outlined:"",rounded:"",color:"primary",width:"100"},on:{click:function(e){return t.$router.push("/login")}}},[t._v("登录")]),a("v-btn",{staticClass:"d-block",attrs:{outlined:"",rounded:"",color:"primary",width:"100"},on:{click:function(e){return t.$router.push("/register")}}},[t._v("注册")])],1)])],1)},Ht=[],Ut={props:{infoLoaded:Boolean,info:{},height:Number,isOthers:{type:Boolean,default:!1}},data(){return{utils:St}},methods:{logoff(){_.a.post("/logoff").then(t=>{"success"===t.data&&(this.info.type=null,this.$router.push({path:"/Login"}))}).catch(t=>{console.log(t)})}}},Jt=Ut,Wt=a("1d4d"),Gt=Object(o["a"])(Jt,Mt,Ht,!1,null,null,null),Yt=Gt.exports;C()(Gt,{VBtn:V["a"],VCard:U["a"],VCardActions:J["a"],VCardSubtitle:J["b"],VCardText:J["c"],VCardTitle:J["d"],VImg:S["a"],VRating:Wt["a"]});var Kt=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"d-flex flex-wrap mx-auto"},[t.loaded?t._l(t.cards,(function(e,i){return a("v-hover",{key:i,scopedSlots:t._u([{key:"default",fn:function(i){var n=i.hover;return[a("div",{staticClass:"grid"},[a("v-card",{staticClass:"mx-auto my-2",attrs:{elevation:n?12:2,width:"95%"},on:{click:function(a){return t.$router.push(0===t.type?{name:"display",params:{id:e.id}}:{name:"detail",params:{id:e.solr_id}})}}},[a("v-img",{staticClass:"white--text align-end",attrs:{height:"200",src:"Platform"+e.img}},[a("v-card-title",[0===t.type?a("v-avatar",[a("img",{attrs:{src:"Platform"+e.avatar}})]):t._e(),a("div",{staticStyle:{"overflow-x":"auto"}},[a("div",{staticStyle:{display:"inline-flex"}},[a("div",{staticClass:"title",staticStyle:{"white-space":"nowrap"}},[t._v(t._s(e.prjname?e.prjname:e.username))])])])],1)],1),a("v-card-text",{staticClass:"text--primary"},[e.credit?a("div",{staticStyle:{"overflow-x":"auto"}},[a("div",{staticStyle:{display:"inline-flex"}},[a("v-rating",{attrs:{color:"orange","background-color":"orange",readonly:"","half-increments":""},model:{value:e.credit,callback:function(a){t.$set(e,"credit",a)},expression:"item.credit"}})],1)]):t._e(),a("v-card-subtitle",[t._v("类别")]),0===t.type?a("div",{staticStyle:{"overflow-x":"auto"}},[a("div",{staticStyle:{display:"inline-flex"}},t._l(e.tag,(function(e,i){return a("v-chip",{key:i,staticClass:"ma-1",attrs:{outlined:""}},[t._v(t._s(t.utils.ctg[e].name))])})),1)]):a("div",{staticClass:"d-flex"},[a("div",{staticStyle:{"overflow-x":"auto",height:"30px"}},[a("div",{staticStyle:{display:"inline-flex"}},[a("div",{staticStyle:{"white-space":"nowrap"}},[t._v(t._s(t.utils.ctg[e.tag].name)+t._s(0==e.subtag?"":"-"+t.utils.ctg[e.tag].subctg[e.subtag-1]))])])]),a("v-spacer"),a("span",{staticStyle:{color:"red","font-size":"20px"}},[t._v(t._s("￥"+e.price))])],1)],1),a("v-card-actions",[t.extraText?a("div",[t._v(t._s(t.extraText(e)))]):t._e(),a("v-spacer"),t.btnText?a("v-btn",{attrs:{color:"primary",text:""},on:{click:function(a){return a.stopPropagation(),t.callback(e.id)}}},[t._v(t._s(t.btnText))]):t._e()],1)],1)],1)]}}],null,!0)})})):a("div",{staticClass:"d-flex flex-wrap justify-start",staticStyle:{width:"100%"}},t._l(4,(function(t){return a("v-skeleton-loader",{key:t,staticClass:"mx-auto",attrs:{"min-width":"170",width:"24%",type:"card"}})})),1),t.isActiveLoad?t._e():a("v-pagination",{staticStyle:{height:"84px"},attrs:{length:0!==t.total?Math.ceil(t.totalProps?t.totalProps:t.total/t.number):1,circle:""},model:{value:t.page,callback:function(e){t.page=e},expression:"page"}})],2)},Qt=[],Xt={name:"LoadCard",props:{isActiveLoad:Boolean,isLoaded:{type:Boolean,default:!1},cardsProp:{type:Array,default:()=>{return[]}},number:Number,totalProps:Number,type:Number,address:String,extraParam:String,extraText:Function,btnText:String,callback:Function},data(){return{cards:[],utils:St,loaded:!1,index:0,isDelay:!1,total:0,page:1}},methods:{load(t){this.isActiveLoad?_.a.post("/Platform/"+this.address,"first="+this.index+"&end="+(this.index+t-1)+St.getReal(this.extraParam,"",t=>{return"&"+t})).then(e=>{this.loaded=!0,this.cards.push.apply(this.cards,e.data),this.index+=t}).catch(t=>{console.log(t)}):window.removeEventListener("scroll",this.init)},init(){!this.isDelay&&(document.documentElement.scrollTop||window.pageYOffset||document.body.scrollTop)+window.innerHeight>=document.body.scrollHeight-100&&(this.load(16),this.isDelay=!0,setTimeout(()=>{this.isDelay=!1},2e3))},update(){_.a.post("/Platform/"+this.address,"first="+this.index+"&number="+this.number+St.getReal(this.extraParam,"",t=>{return"&"+t})).then(t=>{this.total=t.data[0],this.cards=t.data.slice(1),this.index+=this.number,this.loaded=!0}).catch(t=>{console.log(t)})}},mounted(){this.address?this.isActiveLoad?(this.load(16),window.addEventListener("scroll",this.init)):this.update():(this.cards=this.cardsProp,this.loaded=!0)},watch:{extraParam:function(){this.isActiveLoad||(this.loaded=!1,this.cards.length=0,this.index=0,this.update())},isLoaded:function(){this.cards=this.cardsProp},page:function(){this.update()}},destroyed(){window.removeEventListener("scroll",this.init)},deactivated(){window.removeEventListener("scroll",this.init)}},Zt=Xt,te=(a("d9b5"),a("8212")),ee=a("cc20"),ae=a("ce87"),ie=a("891e"),ne=a("3129"),se=Object(o["a"])(Zt,Kt,Qt,!1,null,"680591f1",null),oe=se.exports;C()(se,{VAvatar:te["a"],VBtn:V["a"],VCard:U["a"],VCardActions:J["a"],VCardSubtitle:J["b"],VCardText:J["c"],VCardTitle:J["d"],VChip:ee["a"],VHover:ae["a"],VImg:S["a"],VPagination:ie["a"],VRating:Wt["a"],VSkeletonLoader:ne["a"],VSpacer:st["a"]});var re=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("v-card",{staticClass:"mx-auto",attrs:{width:"100%",height:"200",outlined:""}},[a("v-card-title",{ref:"text",staticStyle:{color:"red",padding:"20px"}},[a("Countdown",{attrs:{deadline:t.prjinfo.payDeadline}})],1),a("div",{staticStyle:{padding:"16px 0 5px 16px"}},[t._v("请确认项目信息,确认无误后点击按钮支付押金和首付款,之后请耐心等待对方付款")]),a("v-card-actions",{staticStyle:{"padding-top":"30px"}},[0===(t.prjinfo.hasPaid||t.prjinfo.isdeposit)?a("v-btn",{attrs:{color:"primary",text:"",outlined:""},on:{click:function(e){t.$emit("submit",0===t.info.type?4:5,{},(function(){t.prjinfo.hasPaid=1,t.prjinfo.isdeposit=1}))}}},[t._v("支付押金(￥"+t._s(parseInt(.1*t.prjinfo.price))+")")]):a("v-icon",{attrs:{color:"green"}},[t._v("mdi-check")]),0===t.info.type&&0===t.prjinfo.ispia?a("v-btn",{attrs:{color:"primary",text:"",outlined:""},on:{click:function(e){t.$emit("submit",5,{},(function(){t.prjinfo.ispia=1}))}}},[t._v("支付首付歀("+t._s(parseInt(t.prjinfo.payinadvance))+")")]):0===t.info.type?a("v-icon",{attrs:{color:"green"}},[t._v("mdi-check")]):t._e()],1)],1)],1)},le=[],ce=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[t._v(t._s(t.day)+"天"+t._s(t.hours)+"小时"+t._s(t.minutes)+"分"+t._s(t.seconds)+"秒")])},de=[],ue={props:{deadline:String},data(){return{time:(Date.parse(this.deadline+" 24:00:00")-Date.parse(new Date))/1e3,day:0,hours:0,minutes:0,seconds:0}},methods:{num(t){return t<10?"0"+t:""+t},timer(){var t=this,e=window.setInterval((function(){0===t.seconds&&0!==t.minutes?(t.seconds=59,t.minutes-=1):0===t.minutes&&0===t.seconds&&0!==t.hours?(t.hours-=1,t.minutes=59,t.seconds=59):0===t.minutes&&0===t.seconds&&0===t.hours?(t.seconds=0,window.clearInterval(e)):t.seconds-=1}),1e3)}},mounted(){this.day=parseInt(this.time/60/60/24),this.hours=parseInt(this.time/60%24),this.minutes=parseInt(this.time/60%60),this.seconds=parseInt(this.time/60/24%60),this.timer()},watch:{second:{handler(t){this.num(t)}},minute:{handler(t){this.num(t)}},hour:{handler(t){this.num(t)}}}},pe=ue,ve=Object(o["a"])(pe,ce,de,!1,null,null,null),me=ve.exports,fe={components:{Countdown:me},props:{info:Object,prjinfo:Object}},he=fe,be=Object(o["a"])(he,re,le,!1,null,null,null),ge=be.exports;C()(be,{VBtn:V["a"],VCard:U["a"],VCardActions:J["a"],VCardTitle:J["d"],VIcon:O["a"]});var ye=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("v-data-table",{staticClass:"elevation-1",attrs:{headers:t.headers,items:t.data,"item-key":t.itemkey,"show-select":!t.isCompany,"disable-sort":!t.issort,"hide-default-footer":100===t.itemperPage,"items-per-page":t.itemperPage},on:{"click:row":function(e){t.rowCallback&&t.rowCallback}},scopedSlots:t._u([t.isCompany?{key:"item.price",fn:function(e){return[a("v-edit-dialog",{attrs:{"return-value":e.item.price,large:"",persistent:""},on:{"update:returnValue":function(a){return t.$set(e.item,"price",a)},"update:return-value":function(a){return t.$set(e.item,"price",a)}},scopedSlots:t._u([{key:"input",fn:function(){return[a("v-text-field",{attrs:{rules:[function(t){return"number"==typeof t&&t>0||"必须超过0"}],label:"Edit","single-line":"",counter:"",autofocus:""},model:{value:e.item.price,callback:function(a){t.$set(e.item,"price",a)},expression:"props.item.price"}})]},proxy:!0}],null,!0)},[e.item.price?a("div",[t._v(t._s(e.item.price))]):a("v-btn",{attrs:{outlined:"",color:"primary"}},[t._v("设定进度款")])],1)]}}:null,{key:"item.action",fn:function(e){var i=e.item;return[t.callback&&t.isCallback(i)?["function"===typeof t.callback?a("v-icon",{staticClass:"mr-2",attrs:{small:""},on:{click:function(e){return t.callback(i)}}},[t._v("\n          "+t._s(t.callbackIcon)+"\n        ")]):t._l(t.callback,(function(e,n){return a("v-icon",{key:n,staticClass:"mr-2",attrs:{small:""},on:{click:function(t){return e(i)}}},[t._v("\n          "+t._s(t.callbackIcon[n])+"\n        ")])}))]:t._e()]}}],null,!0),model:{value:t.selected,callback:function(e){t.selected=e},expression:"selected"}})],1)},_e=[],xe={props:{data:Array,isCompany:{type:Boolean,default:!1},isPriceCol:Boolean,headers:Array,itemkey:String,issort:{type:Boolean,default:!1},isCallback:{type:Function,default:()=>{return!0}},callback:[Function,Array],callbackIcon:[String,Array],itemperPage:{type:Number,default:100},rowCallback:Function},data(){return{selected:[]}},created(){this.headers.contain({text:"进度款",value:"price"})||!0!==this.isPriceCol||this.headers.push({text:"进度款",value:"price"}),console.log(this.callback),!this.headers.contain({text:"操作",value:"action"})&&this.callback&&this.headers.push({text:"操作",value:"action"})}},ke=xe,we=a("8fea"),Ce=a("7679"),Ve=Object(o["a"])(ke,ye,_e,!1,null,null,null),Se=Ve.exports;C()(Ve,{VBtn:V["a"],VDataTable:we["a"],VEditDialog:Ce["a"],VIcon:O["a"],VTextField:rt["a"]});var je=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("v-dialog",{attrs:{"max-width":"400"},model:{value:t.dialog,callback:function(e){t.dialog=e},expression:"dialog"}},[0===t.dialogState?a("v-card",[a("v-card-title",[t._v("文件上传")]),a("v-card-text",[a("v-file-input",{attrs:{label:"点击上传",filled:""},model:{value:t.file,callback:function(e){t.file=e},expression:"file"}})],1),a("v-card-actions",[a("v-spacer"),a("v-btn",{attrs:{color:"primary",text:""},on:{click:function(e){return t.upload()}}},[t._v("上传")])],1)],1):t._e(),1===t.dialogState?a("v-card",[a("v-card-title",[t._v("延迟原因")]),a("v-card-text",[a("v-text-field",{attrs:{filled:"",label:"原因"},model:{value:t.reason,callback:function(e){t.reason=e},expression:"reason"}})],1),a("v-card-actions",[a("v-spacer"),a("v-btn",{attrs:{color:"primary",text:""},on:{click:function(e){t.$emit("submit",7,{reason:t.reason,stepid:t.stepid},(function(){t.data[t.stepid].state=3,t.dialog=!1}))}}},[t._v("提交")])],1)],1):t._e(),2===t.dialogState?a("v-card",[a("v-card-title",[t._v("要求对方")]),a("v-card-text",[a("v-form",{ref:"form",model:{value:t.valid,callback:function(e){t.valid=e},expression:"valid"}},[a("v-select",{attrs:{items:0===t.type?t.punishCompany:t.punishStudio,filled:"",label:"点击以选择"},model:{value:t.punishSelect,callback:function(e){t.punishSelect=e},expression:"punishSelect"}}),0===t.punishSelect?[a("v-text-field",{staticStyle:{display:"inline-block",width:"90%"},attrs:{rules:[function(t){return t<100&&t>0||"必须小于100大于0"}],type:"Number",label:"金额百分比",required:""},model:{value:t.money,callback:function(e){t.money=e},expression:"money"}}),a("div",{staticStyle:{display:"inline-block",width:"10%","text-align":"center"}},[t._v("%")])]:t._e()],2)],1),a("v-card-actions",[a("v-spacer"),a("v-btn",{attrs:{color:"primary",text:""},on:{click:function(e){t.$emit("submit",9,{measure:t.punishSelect,stepid:t.stepid,money:t.money},(function(){t.dialog=!1}))}}},[t._v("提交")])],1)],1):t._e(),3===t.dialogState?a("v-card",[a("v-card-title",[t._v("我要申诉")]),a("v-card-text",[a("v-text-field",{attrs:{filled:"",label:"原因"},model:{value:t.reason,callback:function(e){t.reason=e},expression:"reason"}}),a("v-text-field",{staticStyle:{display:"inline-block",width:"90%"},attrs:{rules:[function(t){return t<=100&&t>0||"必须小于100大于0"}],type:"Number",label:"我要求退回金额（需要赔偿金额的百分比）",required:""},model:{value:t.money,callback:function(e){t.money=e},expression:"money"}}),a("div",{staticStyle:{display:"inline-block",width:"10%","text-align":"center"}},[t._v("%")])],1),a("v-card-actions",[a("v-spacer"),a("v-btn",{attrs:{color:"primary",text:""},on:{click:function(e){t.$emit("submit",0===t.type?7:8,{reason:t.reason,money:t.money},(function(){t.dialog=!1}))}}},[t._v("提交")])],1)],1):t._e()],1),a("v-progress-linear",{attrs:{value:t.progress}}),a("v-expansion-panels",{attrs:{accordion:""},model:{value:t.expand,callback:function(e){t.expand=e},expression:"expand"}},t._l(t.data,(function(e,i){return a("v-expansion-panel",{key:i},[a("v-expansion-panel-header",{attrs:{"disable-icon-rotate":""},scopedSlots:t._u([{key:"actions",fn:function(){return[a("div",{staticClass:"text--secondary mr-4"},[t._v("截止时间："+t._s(new Date(new Date-24*e.time*60*60*1e3).toLocaleDateString().replace(/\//g,"-")))]),a("v-icon",{attrs:{color:t.state[e.state].color}},[t._v(t._s(t.state[e.state].icon))])]},proxy:!0}],null,!0)},[t._v("\n        "+t._s(t.getName(e,i))+"\n        ")]),a("v-expansion-panel-content",[t._v("\n        "+t._s(e.info)+"\n        "),3===e.state&&0===t.type?a("div",[t._v("对方已经延误，可以进行处罚")]):t._e(),4===e.state&&0===t.type||7===e.state&&1===t.type?a("div",[t._v("对方可能在"),a("Countdown",{attrs:{deadline:e.deadline}}),t._v("内发起申诉")],1):t._e(),4===e.state&&1===t.type?a("div",[t._v("你被扣"+t._s(e.money)+"%的进度款，你可以选择在"),a("Countdown",{attrs:{deadline:e.deadline}}),t._v("内发起申诉")],1):t._e(),7===e.state&&0===t.type?a("div",[t._v("你被扣"+t._s(e.money)+"%的押金由于延误支付进度款，你可以选择在"),a("Countdown",{attrs:{deadline:e.deadline}}),t._v("内发起申诉")],1):t._e(),8===e.state?a("div",[t._v("现在处于处理申诉状态，请耐心等候")]):t._e(),a("div",{staticStyle:{float:"right"}},[1===e.state&&1===t.type?a("v-btn",{staticClass:"mr-4",attrs:{outlined:"",color:"primary"},on:{click:function(a){a.stopPropagation(),(t.dialogState=0)||(t.stepid=e.part)||(t.dialog=!0)}}},[t._v("上传文件")]):t._e(),1===e.state&&1===t.type?a("v-btn",{staticClass:"mr-4",attrs:{text:"",color:"primary"},on:{click:function(a){a.stopPropagation(),(t.dialogState=1)&&(t.dialog=!0)||(t.stepid=e.part)}}},[t._v("我无法准时完成！")]):t._e(),2===e.state&&0===t.type?a("v-btn",{staticClass:"mr-4",attrs:{text:"",color:"primary"},on:{click:function(a){t.window.open("/Platform/"+t.prjinfo.path)||(t.stepid=e.part)}}},[t._v("下载文件")]):t._e(),2===e.state&&0===t.type?a("v-btn",{staticClass:"mr-4",attrs:{outlined:"",color:"primary"},on:{click:function(a){t.$emit("submit",8,{stepid:e.part},(function(){t.dialog=!1}))||(t.stepid=e.part)}}},[t._v("通过")]):t._e(),2===e.state&&0===t.type?a("v-btn",{staticClass:"mr-4",attrs:{outlined:"",color:"error"},on:{click:function(a){(t.dialogState=2)&&(t.dialog=!0)||(t.stepid=e.part)}}},[t._v("不通过")]):t._e(),3===e.state&&1===t.type?a("div",{staticClass:"text--secondary mr-4"},[t._v("等待对方进行处罚")]):t._e(),3===e.state&&0===t.type?a("v-btn",{staticClass:"mr-4",attrs:{outlined:"",color:"error"},on:{click:function(a){(t.dialogState=2)&&(t.dialog=!0)&&(t.stepid=e.part)}}},[t._v("进行处罚")]):t._e(),4===e.state&&1===t.type?a("v-btn",{staticClass:"mr-4",attrs:{outlined:"",color:"error"},on:{click:function(a){(t.dialogState=3)&&(t.dialog=!0)||(t.stepid=e.part)}}},[t._v("不合理，申诉")]):t._e(),5===e.state&&0===t.type?a("v-btn",{staticClass:"mr-4",attrs:{outlined:"",color:"green"},on:{click:function(a){t.$emit("submit",6,{stepid:e.part})||(t.stepid=e.part)}}},[t._v("付款("+t._s(e.price)+")")]):t._e(),5===e.state&&1===t.type?a("div",{staticClass:"text--secondary mr-4"},[t._v("等待对方付款")]):t._e(),6===e.state&&1===t.type?a("v-btn",{staticClass:"mr-4",attrs:{outlined:"",color:"error"},on:{click:function(a){(t.dialogState=2)&&(t.dialog=!0)||(t.stepid=e.part)}}},[t._v("要求进行处罚")]):t._e(),6===e.state&&1===t.type?a("v-btn",{staticClass:"mr-4",attrs:{outlined:"",color:"primary"},on:{click:function(a){t.$emit("submit",10)||(t.stepid=e.part)}}},[t._v("催促公司付款")]):t._e(),7===e.state&&0===t.type?a("v-btn",{staticClass:"mr-4",attrs:{outlined:"",color:"error"},on:{click:function(a){(t.dialogState=3)&&(t.dialog=!0)||(t.stepid=e.part)}}},[t._v("不合理，申诉")]):t._e()],1)])],1)})),1)],1)},Ie=[],Pe={props:{data:Array,type:Number,id:Number,snackbar:Object,prjinfo:Object},data(){return{state:[{icon:"$expand",color:"primary"},{icon:"mdi-progress-wrench",color:"orange"},{icon:"mdi-timer",color:"purple"},{icon:"mdi-alert-circle-outline",color:"red"},{icon:"mdi-alert-circle-outline",color:"red"},{icon:"mdi-cash-usd-outline",color:"green"},{icon:"mdi-alert-circle-outline",color:"red"},{icon:"mdi-alert-circle-outline",color:"red"},{icon:"mdi-alert",color:"red"},{icon:"mdi-check",color:"teal"}],expand:0,dialog:!1,dialogState:0,stepid:0,file:null,window:window,reason:"",punishCompany:[{text:"减少进度款",value:0},{text:"延长时间",value:1},{text:"取消",value:2}],punishStudio:["扣押金","延长时间","取消"],punishSelect:"减少进度款",progress:0}},methods:{upload(){let t=new FormData;t.append("id",this.id),t.append("action",6),t.append("file",this.file),t.append("stepid",this.stepid),_.a.post("/Platform/studio_action",t).then(t=>{"success"===t.data?(this.data[this.stepid].state+=1,this.dialog=!1):(this.snackbar.color="error",this.snackbar.text="服务器错误",this.snackbar.open=!0)}).catch(t=>{console.log(t),this.snackbar.color="error",this.snackbar.text="服务器错误",this.snackbar.open=!0})},getName(t,e){return 1===t.state&&(this.expand=e,this.progress=e/this.data.length*100),t.name}}},$e=Pe,Le=a("cd55"),Te=a("49e2"),De=a("c865"),Oe=a("0393"),Ne=a("23a7"),Ae=a("8e36"),Ee=a("b974"),Be=Object(o["a"])($e,je,Ie,!1,null,null,null),qe=Be.exports;C()(Be,{VBtn:V["a"],VCard:U["a"],VCardActions:J["a"],VCardText:J["c"],VCardTitle:J["d"],VDialog:W["a"],VExpansionPanel:Le["a"],VExpansionPanelContent:Te["a"],VExpansionPanelHeader:De["a"],VExpansionPanels:Oe["a"],VFileInput:Ne["a"],VForm:Y["a"],VIcon:O["a"],VProgressLinear:Ae["a"],VSelect:Ee["a"],VSpacer:st["a"],VTextField:rt["a"]});var Fe=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-card",{staticClass:"mx-auto",attrs:{"max-width":"600","max-height":"400",outlined:""}},[a("v-list-item",{attrs:{"three-line":""}},[a("v-list-item-content",[a("div",{staticClass:"satisfaction"},[a("ul",[a("li",{staticStyle:{"text-align":"center"}},[a("a",{staticStyle:{"font-size":"16px","letter-spacing":"3px",cursor:"auto"}},[t._v("给对方打分:")]),a("v-rating",{attrs:{"background-color":"orange lighten-3",color:"orange",size:"35","half-increments":""},model:{value:t.rating,callback:function(e){t.rating=e},expression:"rating"}})],1),a("li",{staticStyle:{"text-align":"center"}},[a("v-btn",{staticClass:"btn",attrs:{outlined:"",color:"primary"},on:{click:t.submit}},[t._v("提交")])],1)])])])],1)],1)},Re=[],ze={props:{type:Number,prjinfo:Object},data(){return{rating:0}},methods:{submit(){this.$emit("submit",0===this.type?10:11,{credit:this.rating},()=>{this.prjinfo.state+=1})}}},Me=ze,He=(a("5a7a"),Object(o["a"])(Me,Fe,Re,!1,null,"496a1f52",null)),Ue=He.exports;C()(He,{VBtn:V["a"],VCard:U["a"],VListItem:X["a"],VListItemContent:tt["a"],VRating:Wt["a"]});var Je={name:"detail",components:{Prjinfo:zt,MyInfo:Yt,LoadCard:oe,Paid:ge,Table:Se,Processing:qe,Comment:Ue,Countdown:me},props:{info:Object,snackbar:Object},data(){return{projectInfo:{},displayInfo:this.info,infoLoaded:!1,vertical:!0,processWidth:"width: 95%",steps:["竞标","完善进度表","付押金","进行中","完成并评分"],cols:8,state:1,dialog:!1,enroll:Array,isEnter:!1,id:0,headers:[{text:"进度名",value:"name"},{text:"进度详情",value:"info"},{text:"所需时间(天)",value:"time"}],table:[],step:{name:"",info:"",time:0},valid:!0,reason:"",money:0}},methods:{getinfo(){_.a.post("/Platform/project_info","id="+this.$route.params.id).then(t=>{this.projectInfo=t.data,this.state=t.data.state,this.enroll=St.getReal(t.data.enroll,[]),1===this.info.type&&this.enroll.forEach(t=>{t.id===this.info.id&&(this.isEnter=!0)}),this.table=St.getReal(t.data.table,[]),this.infoLoaded=!0,"self"!==t.data.companyID&&_.a.post("/Platform/display_info","id="+t.data.companyID).then(t=>{this.displayInfo=t.data}).catch(t=>{console.log(t)})}).catch(t=>{console.log(t)})},onResize(){window.innerWidth<950?(this.cols=12,this.vertical=!1,this.processWidth="width: 100%"):(this.cols=8,this.vertical=!0,this.processWidth="width: 95%")},win(t){this.id=t,this.dialog=!0},add(){if(this.$refs.form.validate()&&this.step.time>0){var t={};t.name=this.step.name,t.info=this.step.info,t.time=this.step.time,this.table.push(t),this.dialog=!1,this.step.name="",this.step.info="",this.step.time=0,this.$refs.form.resetValidation()}},deleteItem(){var t=this.$refs.table[0].selected;this.table=this.table.filter(e=>!t.includes(e))},getLeftTime(t){if(void 0===t)return 0;var e=(Date.parse(t+" 24:00:00")-Date.parse(new Date))/1e3/60/60/24;return this.table.forEach(t=>{e-=t.time}),e=parseInt(e),0===e?"已全部分配":e+"天"},action(t,e,a){_.a.post(0===this.info.type?"/Platform/company_action":"/Platform/studio_action",At.a.stringify(Object.assign({id:this.projectInfo.id,action:t},e))).then(t=>{if("success"===t.data)a&&a();else if("<"===t.data[0]){var e=window.open("","_blank","height=800,width=1000");e.onload=function(){e.document.body.innerHTML=t.data,e.document.forms[0].submit()}}else this.snackbar.color="error",this.snackbar.text="服务器错误",this.snackbar.open=!0}).catch(t=>{console.log(t),this.snackbar.color="error",this.snackbar.text="服务器错误",this.snackbar.open=!0})}},mounted(){this.getinfo()},activated(){this.getinfo()}},We=Je,Ge=a("62ad"),Ye=a("a523"),Ke=a("0fd9"),Qe=a("7e85"),Xe=a("e516"),Ze=a("9c54"),ta=a("56a4"),ea=a("dc22"),aa=Object(o["a"])(We,Dt,Ot,!1,null,null,null),ia=aa.exports;C()(aa,{VBtn:V["a"],VCard:U["a"],VCardActions:J["a"],VCardSubtitle:J["b"],VCardText:J["c"],VCardTitle:J["d"],VCol:Ge["a"],VContainer:Ye["a"],VDialog:W["a"],VDivider:G["a"],VForm:Y["a"],VRating:Wt["a"],VRow:Ke["a"],VSpacer:st["a"],VStepper:Qe["a"],VStepperContent:Xe["a"],VStepperHeader:Ze["a"],VStepperStep:ta["a"],VTextField:rt["a"]}),dt()(aa,{Resize:ea["a"]});var na=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"wrapper"},[a("div",{staticClass:"d-flex flex-wrap"},[a("v-card",{staticClass:"mx-auto activity",attrs:{height:"400"}},[a("v-carousel",{attrs:{height:"100%"}},t._l(t.activities,(function(t,e){return a("v-carousel-item",{key:e},[a("v-sheet",{attrs:{height:"100%",tile:""}},[a("v-row",{staticClass:"fill-height",attrs:{align:"center",justify:"center"}},[a("v-parallax",{staticStyle:{width:"100%"},attrs:{src:"/Platform"+t.img}})],1)],1)],1)})),1)],1),a("MyInfo",{staticStyle:{width:"29%"},attrs:{infoLoaded:t.infoLoaded,info:t.info,height:400}})],1),a("div",{staticStyle:{height:"10px"}}),a("v-tabs",[a("v-tab",[t._v("推荐工作室")]),a("v-tab",[t._v("推荐项目")]),a("v-tab-item",[a("LoadCard",{attrs:{width:"100%",type:0,address:"recommend_studio",isActiveLoad:""}})],1),a("v-tab-item",[a("LoadCard",{attrs:{width:"100%",type:1,address:"recommend_project",isActiveLoad:""}})],1)],1)],1)},sa=[],oa={name:"home",components:{LoadCard:oe,MyInfo:Yt},props:{info:{},infoLoaded:Boolean},data(){return{utils:St,activities:[]}},methods:{loadActivities(){_.a.post("/Platform/activity","type=basic").then(t=>{this.activities=t.data}).catch(t=>{console.log(t)})}},created(){this.loadActivities()}},ra=oa,la=(a("3d41"),a("5e66")),ca=a("3e35"),da=a("8dd9"),ua=a("71a3"),pa=a("c671"),va=a("fe57"),ma=Object(o["a"])(ra,na,sa,!1,null,"576536b8",null),fa=ma.exports;C()(ma,{VCard:U["a"],VCarousel:la["a"],VCarouselItem:ca["a"],VParallax:nt["a"],VRow:Ke["a"],VSheet:da["a"],VTab:ua["a"],VTabItem:pa["a"],VTabs:va["a"]});var ha=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{directives:[{name:"resize",rawName:"v-resize",value:t.onResize,expression:"onResize"}],staticClass:"wrapper"},[a("v-dialog",{attrs:{"max-width":"400"},model:{value:t.dialog.open,callback:function(e){t.$set(t.dialog,"open",e)},expression:"dialog.open"}},[0===t.dialog.state?[a("v-card",[a("v-card-title",[t._v(t._s(0===t.info.type?"上传身份证":"上传营业执照"))]),a("v-card-text",[a("v-file-input",{attrs:{label:0===t.info.type?"身份证正面":"上传营业执照",accept:"image/*",filled:""},model:{value:t.file0,callback:function(e){t.file0=e},expression:"file0"}}),1===t.info.type?a("v-file-input",{attrs:{label:"身份证反面",accept:"image/*",filled:""},model:{value:t.file1,callback:function(e){t.file1=e},expression:"file1"}}):t._e()],1),a("v-card-actions",[a("v-spacer"),a("v-btn",{attrs:{color:"primary",text:""},on:{click:function(e){return t.upload(0)}}},[t._v("上传")])],1)],1)]:t._e(),1===t.dialog.state?[a("v-card",[a("v-card-title",[t._v("添加成员")]),a("v-card-text",[a("v-form",{ref:"form",attrs:{"lazy-validation":""}},[a("v-text-field",{attrs:{label:"成员姓名",rules:[function(t){return!!t||"必需项"}],required:""},model:{value:t.mem.name,callback:function(e){t.$set(t.mem,"name",e)},expression:"mem.name"}}),a("v-text-field",{attrs:{label:"成员介绍",rules:[function(t){return!!t||"必需项"}],required:""},model:{value:t.mem.info,callback:function(e){t.$set(t.mem,"info",e)},expression:"mem.info"}}),a("v-text-field",{attrs:{label:"成员电话",type:"number",rules:[function(t){return!!t||"必需项"}],required:""},model:{value:t.mem.tel,callback:function(e){t.$set(t.mem,"tel",e)},expression:"mem.tel"}}),a("v-text-field",{attrs:{label:"成员邮箱",type:"email",rules:[function(t){return!!t||"必需项"}],required:""},model:{value:t.mem.email,callback:function(e){t.$set(t.mem,"email",e)},expression:"mem.email"}})],1),a("v-card-actions",[a("v-spacer"),a("v-btn",{attrs:{color:"primary",text:""},on:{click:function(e){return t.add()}}},[t._v("添加")])],1)],1)],1)]:t._e(),2===t.dialog.state?[a("v-card",[a("v-card-title",[t._v("文件上传")]),a("v-card-text",[a("v-file-input",{attrs:{label:"点击上传",accept:"image/*",filled:""},model:{value:t.file,callback:function(e){t.file=e},expression:"file"}})],1),a("v-card-actions",[a("v-spacer"),a("v-btn",{attrs:{color:"primary",text:""},on:{click:function(e){return t.upload(0)}}},[t._v("上传")])],1)],1)]:t._e(),3===t.dialog.state?[a("v-card",[a("v-card-title",[t._v("文件上传")]),a("v-card-text",[a("v-file-input",{attrs:{label:"点击上传",accept:"image/*",filled:""},model:{value:t.avatar,callback:function(e){t.avatar=e},expression:"avatar"}})],1),a("v-card-actions",[a("v-spacer"),a("v-btn",{attrs:{color:"primary",text:""},on:{click:function(e){return t.upload(1)}}},[t._v("上传")])],1)],1)]:t._e(),4===t.dialog.state?[a("v-card",[a("v-card-title",[t._v("新建项目")]),a("v-card-text",[a("v-form",{ref:"prj",attrs:{"lazy-validation":""}},[a("v-text-field",{attrs:{label:"项目名称",rules:[function(t){return!!t||"必需项"}],required:""},model:{value:t.prj.prjname,callback:function(e){t.$set(t.prj,"prjname",e)},expression:"prj.prjname"}}),a("v-text-field",{attrs:{label:"具体信息",rules:[function(t){return!!t||"必需项"}],required:""},model:{value:t.prj.info,callback:function(e){t.$set(t.prj,"info",e)},expression:"prj.info"}}),a("v-select",{attrs:{items:t.ctgValue,color:"primary",label:"类别",outlined:""},model:{value:t.prj.tag,callback:function(e){t.$set(t.prj,"tag",e)},expression:"prj.tag"}}),a("v-select",{attrs:{items:t.utils.ctg[t.prj.tag+1].subctg?t.utils.getTextValue(t.utils.ctg[t.prj.tag+1].subctg):[],color:"primary",label:"子类别",outlined:""},model:{value:t.prj.subtag,callback:function(e){t.$set(t.prj,"subtag",e)},expression:"prj.subtag"}}),a("v-file-input",{attrs:{label:"上传头图",accept:"image/*",filled:""},model:{value:t.prj.file,callback:function(e){t.$set(t.prj,"file",e)},expression:"prj.file"}}),a("v-menu",{attrs:{"offset-y":""},scopedSlots:t._u([{key:"activator",fn:function(e){var i=e.on;return[a("div",{staticClass:"title d-inline-block ml-4"},[t._v(t._s(t.prj.deadline))]),a("v-btn",t._g({attrs:{color:"primary",outlined:""}},i),[t._v("\n                  选择截止日期\n                ")])]}}],null,!1,902931513)},[a("v-date-picker",{attrs:{landscape:""},model:{value:t.prj.deadline,callback:function(e){t.$set(t.prj,"deadline",e)},expression:"prj.deadline"}})],1),a("v-text-field",{attrs:{label:"总价",type:"Number",rules:[function(t){return t>0||"必须大于0"}],required:""},model:{value:t.prj.price,callback:function(e){t.$set(t.prj,"price",e)},expression:"prj.price"}}),a("v-text-field",{attrs:{label:"首付款",type:"Number",rules:[function(e){return e>0&&e<parseInt(t.prj.price)||"大于0且小于总价"}],required:""},model:{value:t.prj.pia,callback:function(e){t.$set(t.prj,"pia",e)},expression:"prj.pia"}})],1)],1),a("v-card-actions",[a("v-spacer"),a("v-btn",{attrs:{color:"primary",text:""},on:{click:function(e){t.$refs.prj.validate()&&t.upload(2)}}},[t._v("提交")])],1)],1)]:t._e(),5===t.dialog.state?[a("v-card",[a("v-card-title",[t._v("上首页")]),a("v-card-text",[a("div",{staticClass:"title mb-2"},[t._v("你在首页时间以及权重将会由你付的金额决定")]),a("v-select",{attrs:{items:[{text:"￥100",value:100},{text:"￥300",value:300},{text:"￥1000",value:1e3}],color:"primary",label:"快速选择",outlined:""},model:{value:t.price,callback:function(e){t.price=e},expression:"price"}}),a("v-text-field",{attrs:{label:"金额",type:"Number",rules:[function(t){return t>0||"必须大于0"}],required:""},model:{value:t.price,callback:function(e){t.price=e},expression:"price"}})],1),a("v-card-actions",[a("v-spacer"),a("v-btn",{attrs:{color:"primary",text:""},on:{click:function(e){return t.pay()}}},[t._v("支付")])],1)],1)]:t._e()],2),a("div",{class:!0===t.cardClass?"v-card v-sheet theme--light":""},[a("v-row",[a("v-col",{staticClass:"d-none d-md-flex",attrs:{cols:"3"}},[a("v-list",{attrs:{width:"100%",shaped:""}},[a("v-subheader",[t._v("管理中心")]),a("v-list-item-group",{attrs:{color:"primary"},model:{value:t.state,callback:function(e){t.state=e},expression:"state"}},t._l(t.tabs,(function(e,i){return a("v-list-item",{key:i},[a("v-list-item-icon",[a("v-icon",{domProps:{textContent:t._s(e.icon)}})],1),a("v-list-item-content",[a("v-list-item-title",{domProps:{textContent:t._s(e.name)}})],1)],1)})),1)],1)],1),a("v-col",{class:0===t.state?"py-0":"",staticStyle:{height:"800px"},attrs:{cols:1===t.state&&t.cardClass?9:""}},[0===t.state?[a("v-card",{staticClass:"mx-auto",attrs:{height:"800"}},[a("v-parallax",{attrs:{height:"200",src:t.myinfo.img?"Platform"+t.myinfo.img:""}},[a("v-icon",{staticStyle:{display:"block",width:"fit-content",position:"absolute",right:"10px",bottom:"10px"},attrs:{color:"white"},on:{click:function(e){(t.dialog.open=!0)&&(t.dialog.state=2)}}},[t._v("\n                mdi-pencil\n              ")])],1),a("v-avatar",{staticStyle:{top:"150px",left:"20px",position:"absolute"},attrs:{size:"100"}},[a("v-img",{attrs:{src:t.myinfo.avatar?"/Platform"+t.myinfo.avatar:""},on:{mouseenter:function(e){t.overlay=!0},mouseleave:function(e){t.overlay=!1}}},[a("v-overlay",{attrs:{value:t.overlay,absolute:""}},[a("v-icon",{attrs:{color:"white"},on:{click:function(e){(t.dialog.open=!0)&&(t.dialog.state=3)}}},[t._v("mdi-pencil")])],1)],1)],1),a("v-card-title",{staticClass:"ml-1 mt-8"},[t._v(t._s(t.myinfo.username))]),a("v-card-text",[a("v-row",{staticClass:"mx-0",attrs:{align:"center"}},[a("v-rating",{attrs:{value:t.myinfo.credit,color:"orange","background-color":"orange",dense:"","half-increments":"",readonly:""}}),a("div",{staticClass:"grey--text ml-4"},[t._v(t._s(t.myinfo.credit))])],1),a("v-icon",[t._v("mdi-email")]),a("div",{staticClass:"my-4 mr-4 subtitle-1 black--text d-inline-block"},[t._v("\n                "+t._s(t.myinfo.email)+"\n              ")]),a("v-icon",[t._v("mdi-phone")]),a("div",{staticClass:"my-4 subtitle-1 black--text d-inline-block"},[t._v("\n                "+t._s(t.myinfo.tel)+"\n              ")]),a("div",[t._v(t._s(t.myinfo.info))])],1),a("v-divider",{staticClass:"mx-4"}),1===t.info.type?[a("v-card-title",[t._v("我的成员")]),a("v-card-text",[a("v-list",[a("v-list-item-group",{staticStyle:{height:"220px","overflow-y":"auto"},attrs:{color:"primary"}},t._l(t.member,(function(e,i){return a("v-list-item",{key:i,on:{click:function(t){return this.$router.push(e.url)}}},[a("v-list-item-content",[a("v-list-item-title",[t._v(t._s(e.name))]),a("v-list-item-subtitle",[t._v(t._s(e.info))])],1)],1)})),1)],1)],1)]:t._e(),a("v-card-actions",[a("v-btn",{attrs:{color:"deep-purple accent-4",text:""},on:{click:function(e){t.state=3}}},[t._v("\n                编辑\n              ")]),1===t.info.type?a("v-btn",{attrs:{color:"green accent-4",text:""},on:{click:function(e){(t.dialog.open=!0)&&(t.dialog.state=5)}}},[t._v("\n                我要上首页\n              ")]):t._e(),a("v-btn",{attrs:{color:"error accent-4",text:""},on:{click:function(e){return t.logoff()}}},[t._v("\n                注销\n              ")])],1)],2)]:t._e(),1===t.state?[a("v-row",[a("v-select",{staticClass:"mr-6 ml-8 d-inline-block",attrs:{items:t.proStateValue,width:"100%",color:"primary",label:"类型",outlined:""},model:{value:t.proSelect,callback:function(e){t.proSelect=e},expression:"proSelect"}}),0===t.info.type?a("v-btn",{staticClass:"mr-8 ml-8 d-none mt-2 d-md-inline-block",attrs:{color:"primary",outlined:""},on:{click:function(e){(t.dialog.open=!0)&&(t.dialog.state=4)}}},[t._v("发布项目")]):t._e()],1),a("LoadCard",{staticStyle:{height:"700px","overflow-y":"auto"},attrs:{type:1,address:"my_prj",extraParam:t.utils.toFormData({state:t.proSelect}),extraText:function(e){return t.proState[e.state]},number:16,btnText:0===t.info.type?"上首页":void 0,callback:function(){t.dialog.open=!0,t.dialog.state=5}}}),a("v-fab-transition",[0===t.info.type?a("v-btn",{staticClass:"d-block d-md-none",staticStyle:{bottom:"100px"},attrs:{color:"pink",dark:"",fixed:"",bottom:"",right:"",fab:""},on:{click:function(e){(t.dialog.open=!0)&&(t.dialog.state=4)}}},[a("v-icon",[t._v("mdi-plus")])],1):t._e()],1)]:t._e(),2===t.state?[a("v-btn",{attrs:{color:"primary",text:""}},[t._v("清除通知")]),a("v-list-item-group",{staticStyle:{height:"700px","overflow-y":"auto"},attrs:{color:"primary"}},t._l(t.message,(function(e,i){return a("v-list-item",{key:i,on:{click:function(t){return this.router.push(e.url)}}},[a("v-list-item-content",[a("v-list-item-title",[t._v(t._s(e.title))]),a("v-list-item-subtitle",[t._v(t._s(e.body))])],1)],1)})),1)]:t._e(),3===t.state?[a("Info",{staticClass:"mt-12",attrs:{info:t.info,myinfo:t.myinfo,snackbar:t.snackbar}})]:t._e(),4===t.state?[a("v-btn",{attrs:{outlined:"",color:"primary"},on:{click:function(e){e.stopPropagation(),(t.dialog.state=1)&&(t.dialog.open=!0)}}},[t._v("添加")]),a("Table",{ref:"table",attrs:{data:t.member,headers:t.headers,itemkey:"id",issort:"",callback:function(e){return t.deleteItem(e)},callbackIcon:"mdi-trash-can-outline"}})]:t._e()],2)],1)],1),a("div",{staticStyle:{height:"50px"}}),a("v-bottom-navigation",{staticClass:"d-flex d-md-none",staticStyle:{position:"fixed"},attrs:{color:"primary",shift:"",absolute:""},model:{value:t.state,callback:function(e){t.state=e},expression:"state"}},t._l(t.tabs,(function(e,i){return a("v-btn",{key:i},[a("span",[t._v(t._s(e.name))]),a("v-icon",[t._v(t._s(e.icon))])],1)})),1)],1)},ba=[],ga=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("v-dialog",{attrs:{width:"400"},model:{value:t.dialog,callback:function(e){t.dialog=e},expression:"dialog"}},[a("v-card",[a("v-card-title",[t._v("修改密码")]),a("v-card-text",[a("v-form",{ref:"form"},[a("v-text-field",{attrs:{label:"输入密码",type:"password",rules:[function(t){return!!t||"必需项"}],required:""},model:{value:t.password,callback:function(e){t.password=e},expression:"password"}}),a("v-text-field",{attrs:{label:"重复密码",type:"password",rules:[function(e){return e===t.password||"密码不一致"}],required:""},model:{value:t.repassword,callback:function(e){t.repassword=e},expression:"repassword"}})],1)],1),a("v-card-actions",[a("v-spacer"),a("v-btn",{attrs:{color:"primary",text:""},on:{click:function(e){return t.change()}}},[t._v("提交")])],1)],1)],1),a("v-form",{staticClass:"wrapper"},[t._l(t.editinfo,(function(e,i){return[2!==i?a("v-text-field",{key:i,attrs:{type:"text",label:e[Object.keys(e)[0]],required:"",filled:""},model:{value:e.value,callback:function(a){t.$set(e,"value",a)},expression:"item.value"}}):1===t.info.type?a("div",{key:i,staticStyle:{height:"70px","overflow-x":"auto"}},[a("div",{staticStyle:{display:"inline-flex"}},[t._l(e.value,(function(i,n){return a("v-chip",{key:i,staticClass:"ma-2",attrs:{ripple:"",close:"",outlined:""},on:{"click:close":function(t){return e.value.splice(n,1)}}},[t._v(t._s(t.utils.ctg[i+1].name))])})),a("v-menu",{attrs:{"offset-y":""},scopedSlots:t._u([{key:"activator",fn:function(e){var i=e.on;return[a("v-chip",t._g({staticClass:"ma-2",attrs:{ripple:"",outlined:""}},i),[a("v-icon",[t._v("mdi-plus")])],1)]}}],null,!0)},[a("v-list",t._l(t.utils.ctg.slice(1),(function(e,i){return a("v-list-item",{key:i,on:{click:function(e){return t.editinfo[2].value.push(i)}}},[a("v-list-item-title",[t._v(t._s(e.name))])],1)})),1)],1)],2)]):t._e()]})),a("v-btn",{staticClass:"mr-4",attrs:{text:"",color:"red"},on:{click:function(e){t.dialog=!0}}},[t._v("修改密码")]),a("v-btn",{attrs:{color:"primary"},on:{click:t.upload}},[t._v("\n      保存\n    ")])],2)],1)},ya=[],_a={name:"Info",props:{info:Object,myinfo:Object,snackbar:Object},data(){return{utils:St,editinfo:[{username:0===this.info.type?"公司名":"工作室名称",value:this.myinfo.username},{name:"真实名字",value:this.myinfo.name},{tag:"标签",value:this.myinfo.tag},{email:"电子邮件",value:this.myinfo.email},{tel:"电话",value:this.myinfo.tel},{info:"介绍",value:this.myinfo.info}],password:"",repassword:"",dialog:!1}},methods:{upload(){var t={};this.editinfo.forEach(e=>{t[Object.keys(e)[0]]=e.value}),1===this.info.type?t["tag"]=JSON.stringify(this.editinfo[2].value):t["tag"]=void 0,_.a.post("/Platform/edit",At.a.stringify(t)).then(t=>{"success"===t.data&&(this.snackbar.color="green",this.snackbar.text="修改成功",this.snackbar.open=!0)}).catch(t=>{console.log(t),this.snackbar.color="error",this.snackbar.text="服务器错误",this.snackbar.open=!0})},change(){this.$refs.form.validate()&&_.a.post("/Platform/changepassword","password="+this.password).then(t=>{"success"===t.data&&(this.snackbar.color="green",this.snackbar.text="修改成功",this.snackbar.open=!0)}).catch(t=>{console.log(t),this.snackbar.color="error",this.snackbar.text="服务器错误",this.snackbar.open=!0})}}},xa=_a,ka=Object(o["a"])(xa,ga,ya,!1,null,null,null),wa=ka.exports;C()(ka,{VBtn:V["a"],VCard:U["a"],VCardActions:J["a"],VCardText:J["c"],VCardTitle:J["d"],VChip:ee["a"],VDialog:W["a"],VForm:Y["a"],VIcon:O["a"],VList:K["a"],VListItem:X["a"],VListItemTitle:tt["c"],VMenu:at["a"],VSpacer:st["a"],VTextField:rt["a"]});var Ca={components:{Table:Se,LoadCard:oe,Info:wa},props:{info:Object,infoLoaded:Boolean,snackbar:Object},data(){return{utils:St,file0:null,file1:null,dialog:{open:!1,state:0},state:0,cardClass:!0,myinfo:{},tabs:[{name:"个人信息",icon:"mdi-account"},{name:"我的项目",icon:"mdi-progress-wrench"},{name:"我的消息",icon:"mdi-bell"},{name:"编辑信息",icon:"mdi-account-edit"}],file:null,avatar:null,overlay:!1,proState:["全部","竞标中","完善进度表","付押金","进行中","待评分","已结束","已取消","正在申诉"],proStateValue:[],proSelect:0,message:[],member:[],mem:{name:"",info:"",tel:"",email:""},prj:{prjname:"",tag:0,subtag:0,file:null,info:"",deadline:(new Date).toISOString().substr(0,10),price:"",pia:""},ctgValue:[],headers:[{text:"名字",value:"name"},{text:"介绍",value:"info"},{text:"邮箱",value:"email"},{text:"电话",value:"tel"}],price:0}},methods:{onResize(){window.innerWidth<950?this.cardClass=!1:this.cardClass=!0},add(){if(this.$refs.form.validate()){var t={};t.name=this.mem.name,t.info=this.mem.info,t.tel=this.mem.tel,t.email=this.mem.email,_.a.post("/Platform/addMember",At.a.stringify(t)).then(e=>{"success"===e.data&&(this.member.push(t),this.dialog.open=!1,this.mem.name="",this.mem.info="",this.mem.tel="",this.mem.email="",this.$refs.form.resetValidation())}).catch(t=>{console.log(t),this.snackbar.color="error",this.snackbar.text="服务器错误",this.snackbar.open=!0})}},deleteItem(t){_.a.post("/Platform/delMember","id="+JSON.stringify(t.id)).then(e=>{this.member.forEach((e,a)=>{e.id===t.id&&this.member.splice(a,1)})}).catch(t=>{console.log(t),this.snackbar.color="error",this.snackbar.text="服务器错误",this.snackbar.open=!0})},upload(t){if(2===t){let t=new FormData;Object.keys(this.prj).forEach((e,a)=>{t.append(e,this.prj[Object.keys(this.prj)[a]])}),_.a.post("/Platform/register_prj",t).then(t=>{"success"===t.data&&(this.snackbar.color="green",this.snackbar.text="发布成功",this.snackbar.open=!0)}).catch(t=>{console.log(t),this.snackbar.color="error",this.snackbar.text="服务器错误",this.snackbar.open=!0})}else{let e=new FormData;e.append("file",0===t?this.file:this.avatar),_.a.post(0===t?"/Platform/uploadimg":"/Platform/upload_avatar",e).then(t=>{t.data&&(this.myinfo.avatar=t.data)}).catch(t=>{console.log(t),this.snackbar.color="error",this.snackbar.text="服务器错误",this.snackbar.open=!0})}},pay(){_.a.post(0===this.info.type?"/Platform/ad_register_prj":"/Platform/ad_register_stu","ad_price="+this.price).then(t=>{if(t.data){var e=window.open("","_blank","height=800,width=1000");e.onload=function(){e.document.body.innerHTML=t.data,e.document.forms[0].submit()}}}).catch(t=>{console.log(t),this.snackbar.color="error",this.snackbar.text="服务器错误",this.snackbar.open=!0})},logoff(){_.a.post("/Platform/logoff").then(t=>{"success"===t.data&&(this.info.type=null,this.$router.push({path:"/Login"}))}).catch(t=>{console.log(t)})}},created(){St.getTextValue(this.proState,this.proStateValue),St.getTextValue(St.ctg.slice(1),this.ctgValue,(t,e)=>{return{text:t.name,value:e}}),_.a.post("/Platform/center").then(t=>{this.myinfo=t.data,0===t.data.isValid&&(this.dialog.open=!0,this.dialog.state=0)}).catch(t=>{console.log(t)}),_.a.post("/Platform/notify").then(t=>{this.message=t.data}).catch(t=>{console.log(t)}),1===this.info.type&&4===this.tabs.length&&this.tabs.push({name:"我的成员",icon:"mdi-account-group"})},watch:{state:function(t,e){void 0===t&&(this.state=e)},infoLoaded:function(t){!0===t&&1===this.info.type&&(this.tabs.push({name:"我的成员",icon:"mdi-account-group"}),_.a.post("/Platform/member","id=").then(t=>{this.member=t.data}).catch(t=>{console.log(t)}))}}},Va=Ca,Sa=a("b81c"),ja=a("2e4b"),Ia=a("0789"),Pa=a("34c3"),$a=a("a797"),La=Object(o["a"])(Va,ha,ba,!1,null,null,null),Ta=La.exports;C()(La,{VAvatar:te["a"],VBottomNavigation:Sa["a"],VBtn:V["a"],VCard:U["a"],VCardActions:J["a"],VCardText:J["c"],VCardTitle:J["d"],VCol:Ge["a"],VDatePicker:ja["a"],VDialog:W["a"],VDivider:G["a"],VFabTransition:Ia["c"],VFileInput:Ne["a"],VForm:Y["a"],VIcon:O["a"],VImg:S["a"],VList:K["a"],VListItem:X["a"],VListItemContent:tt["a"],VListItemGroup:et["a"],VListItemIcon:Pa["a"],VListItemSubtitle:tt["b"],VListItemTitle:tt["c"],VMenu:at["a"],VOverlay:$a["a"],VParallax:nt["a"],VRating:Wt["a"],VRow:Ke["a"],VSelect:Ee["a"],VSpacer:st["a"],VSubheader:ot["a"],VTextField:rt["a"]}),dt()(La,{Resize:ea["a"]});var Da=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"mt-8"},[a("v-card",{staticClass:"wrapper",attrs:{tile:""}},[a("v-row",{attrs:{"no-gutters":""}},[a("v-col",{attrs:{cols:"3"}},[a("v-list",{attrs:{shaped:""}},[a("v-subheader",[t._v("设置")]),a("v-list-item-group",{attrs:{color:"primary"},model:{value:t.item,callback:function(e){t.item=e},expression:"item"}},t._l(t.items,(function(e,i){return a("v-list-item",{key:i},[a("v-list-item-content",[a("v-list-item-title",{domProps:{textContent:t._s(e)}})],1)],1)})),1)],1)],1),a("v-divider",{attrs:{vertical:""}}),a("v-col",[a("Info")],1)],1)],1)],1)},Oa=[],Na={components:{Info:wa},data(){return{item:0,items:["个人信息","设置"],views:0}}},Aa=Na,Ea=Object(o["a"])(Aa,Da,Oa,!1,null,null,null),Ba=Ea.exports;C()(Ea,{VCard:U["a"],VCol:Ge["a"],VDivider:G["a"],VList:K["a"],VListItem:X["a"],VListItemContent:tt["a"],VListItemGroup:et["a"],VListItemTitle:tt["c"],VRow:Ke["a"],VSubheader:ot["a"]});var qa=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"wrapper"},[a("v-card",[a("div",{staticClass:"label"},[t._v("类型")]),a("v-btn-toggle",{attrs:{tile:"",color:"primary",group:"",mandatory:""},model:{value:t.type,callback:function(e){t.type=e},expression:"type"}},t._l(t.types,(function(e,i){return a("v-btn",{key:i,attrs:{value:i}},[t._v(t._s(e))])})),1),a("br"),a("div",{staticClass:"label",staticStyle:{float:"left"}},[t._v("分类")]),a("div",{staticStyle:{"overflow-x":"auto"}},[a("v-btn-toggle",{attrs:{tile:"",color:"primary",group:"",mandatory:""},model:{value:t.ctg,callback:function(e){t.ctg=e},expression:"ctg"}},t._l(t.utils.ctg,(function(e,i){return a("v-btn",{key:i,attrs:{value:i}},[t._v(t._s(e.name))])})),1)],1),a("div",{staticClass:"label"},[t._v("子类")]),a("v-btn-toggle",{attrs:{tile:"",color:"primary",group:"",mandatory:""},model:{value:t.subctg,callback:function(e){t.subctg=e},expression:"subctg"}},[a("v-btn",{key:"0",attrs:{value:0}},[t._v("全部")]),t._l(t.utils.getReal(t.utils.ctg[t.ctg].subctg),(function(e,i){return a("v-btn",{key:i+1,attrs:{value:i+1}},[t._v(t._s(e))])}))],2),a("br"),a("div",{staticClass:"label"},[t._v("排序")]),a("v-btn-toggle",{attrs:{tile:"",color:"primary",group:"",mandatory:""},model:{value:t.sort,callback:function(e){t.sort=e},expression:"sort"}},t._l(0===t.type?t.sorts:t.sortsStudio,(function(e,i){return a("v-btn",{key:i,attrs:{value:i},on:{click:function(){t.sort===i&&(t.sortrule=1-t.sortrule)}}},[t._v(t._s(e)+"\n        "),t.sort===i&&0===t.sortrule?a("v-icon",{attrs:{color:"primary"}},[t._v("mdi-chevron-down")]):t._e(),t.sort===i&&1===t.sortrule?a("v-icon",{attrs:{color:"primary"}},[t._v("mdi-chevron-up")]):t._e()],1)})),1)],1),a("LoadCard",{ref:"LoadCard",attrs:{type:1-t.type,address:"search",extraParam:t.utils.toFormData({type:1-t.type,ctg:t.ctg,subctg:t.subctg,keyword:t.keyword,sort:t.sort,sortrule:t.sortrule}),number:20}})],1)},Fa=[],Ra={name:"search",components:{LoadCard:oe},props:{keyword:String},data(){return{utils:St,types:["招标","工作室"],type:St.getReal(this.$route.params.type,0),ctg:St.getReal(this.$route.params.ctg,0),subctg:St.getReal(this.$route.params.subctg,0),sorts:["默认","酬金","首付款"],sortsStudio:["默认","评分"],sort:0,sortrule:0}},watch:{ctg:function(){this.subctg=0}}},za=Ra,Ma=(a("43cf"),a("a609")),Ha=Object(o["a"])(za,qa,Fa,!1,null,null,null),Ua=Ha.exports;C()(Ha,{VBtn:V["a"],VBtnToggle:Ma["a"],VCard:U["a"],VIcon:O["a"]});var Ja=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"wrapper"},[a("v-card",{staticClass:"mx-auto my-2"},[a("v-icon",{staticClass:"ml-4 my-4",attrs:{color:"grey"},on:{click:function(e){return t.$router.back()}}},[t._v("mdi-arrow-left")]),a("v-img",{staticClass:"white--text align-end",attrs:{height:"200",src:"Platform/img/"+t.displayinfo.img}},[a("v-card-title",[a("v-avatar",[a("img",{attrs:{src:"Platform/img/"+t.displayinfo.avatar}})]),t._v("\n        "+t._s(t.displayinfo.username)+"\n      ")],1)],1),a("v-tabs",{model:{value:t.tab,callback:function(e){t.tab=e},expression:"tab"}},[a("v-tab",[t._v("他的信息")]),a("v-tab",[t._v("已完成项目")]),t.displayinfo.bid?a("v-tab",[t._v("正在竞标的项目")]):t._e(),t.displayinfo.bid?t._e():a("v-tab",[t._v("工作室成员")])],1)],1),a("v-tabs-items",{model:{value:t.tab,callback:function(e){t.tab=e},expression:"tab"}},[a("v-tab-item",[a("v-card",{staticClass:"mx-auto",attrs:{"max-height":"900"}},[a("v-list-item-content",[a("div",{staticStyle:{padding:"16px"}},[a("v-list-item-title",{staticClass:"headline mb-1"},[t._v("公司信息")])],1),a("v-divider"),a("div",{staticStyle:{padding:"16px"}},[a("v-list-item-subtitle",{staticStyle:{"font-size":"20px"}},[t._v("联系电话:"+t._s(t.displayinfo.tel))]),a("br"),a("v-list-item-subtitle",{staticStyle:{"font-size":"20px"}},[t._v("公司邮箱:"+t._s(t.displayinfo.email))]),a("br"),a("v-list-item-subtitle",{staticStyle:{"font-size":"20px"}},[t._v("公司简介:"+t._s(t.displayinfo.info))])],1)],1)],1)],1),a("v-tab-item",[t.isloaded?a("LoadCard",{attrs:{isLoaded:t.isloaded,cardsProp:t.complete,number:"12",type:"1",totalProps:t.completeNo}}):t._e()],1),a("v-tab-item",[a("LoadCard",{attrs:{isLoaded:t.isloaded,cardsProp:t.bid,number:"12",type:"1",totalProps:t.bidNo}})],1),a("v-tab-item",[a("Table",{ref:"table",attrs:{data:t.member,headers:t.headers,itemkey:"id",issort:"",isCompany:""}})],1)],1)],1)},Wa=[],Ga={name:"show",components:{LoadCard:oe},data(){return{displayinfo:{},complete:[],completeNo:0,bid:[],bidNo:0,isloaded:!1,tab:0,headers:[{text:"名字",value:"name"},{text:"介绍",value:"info"},{text:"邮箱",value:"email"},{text:"电话",value:"tel"}],member:[]}},methods:{loaddisplayinfo(){_.a.post("/Platform/display_info","id="+this.$route.params.id).then(t=>{this.displayinfo=t.data,this.complete=t.data.complete?t.data.complete.slice(1):[],this.completeNo=t.data.complete?t.data.complete[0]:0,this.bid=t.data.bid?t.data.bid.slice(1):[],this.bidNo=t.data.bid?t.data.bid[0]:0,this.isloaded=!0}).catch(t=>{console.log(t)}),_.a.post("/Platform/member","id="+this.$route.params.id).then(t=>{this.member=t.data}).catch(t=>{console.log(t)})}},created(){this.loaddisplayinfo()}},Ya=Ga,Ka=(a("3f35"),a("aac8")),Qa=Object(o["a"])(Ya,Ja,Wa,!1,null,null,null),Xa=Qa.exports;C()(Qa,{VAvatar:te["a"],VCard:U["a"],VCardTitle:J["d"],VDivider:G["a"],VIcon:O["a"],VImg:S["a"],VListItemContent:tt["a"],VListItemSubtitle:tt["b"],VListItemTitle:tt["c"],VTab:ua["a"],VTabItem:pa["a"],VTabs:va["a"],VTabsItems:Ka["a"]});var Za=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"wrapper"},[a("v-dialog",{attrs:{"max-width":"400",persistent:0===t.dialog.state},model:{value:t.dialog.open,callback:function(e){t.$set(t.dialog,"open",e)},expression:"dialog.open"}},[0===t.dialog.state?a("v-card",[a("v-card-title",[t._v("管理员登录")]),a("v-card-text",[a("v-text-field",{attrs:{filled:"",label:"工号",rules:[function(t){return!!t||"必需项"}],required:""},model:{value:t.man.name,callback:function(e){t.$set(t.man,"name",e)},expression:"man.name"}}),a("v-text-field",{attrs:{filled:"",label:"密码",type:"password",rules:[function(t){return!!t||"必需项"}],required:""},model:{value:t.man.password,callback:function(e){t.$set(t.man,"password",e)},expression:"man.password"}})],1),a("v-card-actions",[a("v-spacer"),a("v-btn",{attrs:{color:"primary",text:""},on:{click:function(e){return t.login()}}},[t._v("登录")])],1)],1):t._e(),1===t.dialog.state?a("v-card",[a("v-card-title",[t._v("注册活动")]),a("v-card-text",[a("v-text-field",{attrs:{filled:"",label:"活动名",rules:[function(t){return!!t||"必需项"}],required:""},model:{value:t.activity.name,callback:function(e){t.$set(t.activity,"name",e)},expression:"activity.name"}}),a("v-file-input",{attrs:{label:t.图片,accept:"image/*",filled:""},model:{value:t.activity.img,callback:function(e){t.$set(t.activity,"img",e)},expression:"activity.img"}}),a("v-text-field",{attrs:{filled:"",label:"url",type:"password",rules:[function(t){return!!t||"必需项"}],required:""},model:{value:t.activity.url,callback:function(e){t.$set(t.activity,"url",e)},expression:"activity.url"}})],1),a("v-card-actions",[a("v-spacer"),a("v-btn",{attrs:{color:"primary",text:""},on:{click:function(e){return t.atvt_register()}}},[t._v("注册")])],1)],1):t._e(),2===t.dialog.state?a("v-card",[a("v-card-title",[t._v("注册管理员")]),a("v-card-text",[a("v-form",{ref:"form"},[a("v-text-field",{attrs:{type:"text",label:"名字",rules:[function(t){return!!t||"必需项"}],required:"",filled:""},model:{value:t.register.name,callback:function(e){t.$set(t.register,"name",e)},expression:"register.name"}}),a("v-text-field",{attrs:{type:"text",label:"密码",rules:[function(t){return!!t||"必需项"}],required:"",filled:""},model:{value:t.register.password,callback:function(e){t.$set(t.register,"password",e)},expression:"register.password"}}),a("v-text-field",{attrs:{type:"text",label:"重复密码",rules:[function(e){return e===t.register.password||"密码不一致"}],required:"",filled:""},model:{value:t.register.repassword,callback:function(e){t.$set(t.register,"repassword",e)},expression:"register.repassword"}})],1)],1),a("v-card-actions",[a("v-spacer"),a("v-btn",{staticClass:"mr-4",attrs:{outlined:"",color:"warning"}},[t._v("注册")])],1)],1):t._e(),3===t.dialog.state?a("v-card",[a("v-card-title",[t._v("添加分类")]),a("v-card-text",[a("v-text-field",{attrs:{filled:"",label:"名称",rules:[function(t){return!!t||"必需项"}],required:""},model:{value:t.ctgName,callback:function(e){t.ctgName=e},expression:"ctgName"}})],1),a("v-card-actions",[a("v-spacer"),a("v-btn",{attrs:{color:"primary",text:""},on:{click:function(e){(!0===t.addsubctg?t.ctg[t.selectCtg].subctg.push(t.ctgName):t.ctg.push({name:t.ctgName}))&&(t.dialog.open=!1)}}},[t._v("添加")])],1)],1):t._e()],1),a("ConfirmDialog",{attrs:{CDialog:t.CDialog}}),a("v-card",{attrs:{height:"fit-content"}},[a("v-row",[a("v-col",{staticClass:"d-none d-md-flex",attrs:{cols:"3"}},[a("v-list",{attrs:{width:"100%",shaped:""}},[a("v-list-item",[a("v-list-item-avatar",[a("v-avatar",{attrs:{color:"primary"}},[a("v-icon",{attrs:{dark:""}},[t._v("mdi-account-circle")])],1)],1),a("v-list-item-title",[t._v(t._s(t.info.id))])],1),a("v-subheader",[t._v("管理中心")]),a("v-list-item-group",{attrs:{color:"primary"},model:{value:t.state,callback:function(e){t.state=e},expression:"state"}},t._l(t.tabs,(function(e,i){return a("v-list-item",{key:i},[a("v-list-item-icon",[a("v-icon",{domProps:{textContent:t._s(e.icon)}})],1),a("v-list-item-content",[a("v-list-item-title",{domProps:{textContent:t._s(e.name)}})],1)],1)})),1)],1)],1),a("v-col",[2===t.info.type&&0===t.state?[a("v-row",{staticClass:"ml-2"},[a("v-col",[a("v-select",{attrs:{items:t.utils.getTextValue(t.types),width:"100%",color:"primary",label:"类型",outlined:""},model:{value:t.select,callback:function(e){t.select=e},expression:"select"}})],1),a("v-col",[a("v-text-field",{attrs:{filled:"",label:"关键字",required:""},model:{value:t.text,callback:function(e){t.text=e},expression:"text"}})],1),a("v-col",[a("v-btn",{staticClass:"mt-4",attrs:{color:"primary",outlined:""},on:{click:function(e){return t.lookup(t.state,t.dataUser)}}},[t._v("查询")])],1),a("v-spacer",{staticClass:"d-none d-md-inline-block"}),a("v-col",{staticClass:"d-none d-md-inline-block"},[a("v-btn",{staticClass:"mt-4",attrs:{outlined:"",color:"primary"},on:{click:function(e){(t.dialog.open=!0)&&(t.dialog.state=2)}}},[t._v("注册管理员")])],1)],1),a("Table",{ref:"table",attrs:{data:t.dataUser,headers:t.headers,callback:function(e){(t.CDialog.callback=function(){t.action(0,e)})&&(t.CDialog.open=!0)},itemkey:"id",issort:"",callbackIcon:"mdi-trash-can-outline",itemperPage:10,rowCallback:function(e){t.$router.push(0===e.type?{name:"display",params:{id:e.id}}:{name:"detail",params:{id:e.id}})}}}),a("v-fab-transition",[a("v-btn",{staticClass:"d-block d-md-none",staticStyle:{bottom:"100px"},attrs:{color:"pink",dark:"",fixed:"",bottom:"",right:"",fab:""},on:{click:function(e){(t.dialog.open=!0)&&(t.dialog.state=2)}}},[a("v-icon",[t._v("mdi-plus")])],1)],1)]:t._e(),3===t.info.type&&0===t.state?[a("Table",{attrs:{data:t.dataCom,headers:t.headersComplain,callback:[function(e){(t.CDialog.callback=function(){t.action(5,[e,1])})&&(t.CDialog.open=!0)},function(e){(t.CDialog.callback=function(){t.action(5,[e,0])})&&(t.CDialog.open=!0)}],itemkey:"id",issort:"",callbackIcon:["mdi-check","mdi-close"],itemperPage:10,rowCallback:function(e){t.$router.push({name:"detail",params:{id:e.prjid}})},isCallback:function(t){return 0===t.state}}})]:t._e(),1===t.state?[a("v-row",{staticClass:"ml-2"},[a("v-col",[a("v-select",{attrs:{items:t.utils.getTextValue(t.types),width:"100%",color:"primary",label:"类型",outlined:""},model:{value:t.select,callback:function(e){t.select=e},expression:"select"}})],1),a("v-col",[a("v-text-field",{attrs:{filled:"",label:"关键字",required:""},model:{value:t.text,callback:function(e){t.text=e},expression:"text"}})],1),a("v-col",[a("v-btn",{staticClass:"mt-4",attrs:{color:"primary",outlined:""},on:{click:function(e){return t.lookup(t.state,t.dataAD)}}},[t._v("查询")])],1)],1),a("Table",{attrs:{data:t.dataAD,headers:t.headersAD,callback:[function(e){(t.CDialog.callback=function(){t.action(1,[e,1])})&&(t.CDialog.open=!0)},function(e){(t.CDialog.callback=function(){t.action(1,[e,0])})&&(t.CDialog.open=!0)}],itemkey:"id",issort:"",callbackIcon:["mdi-check","mdi-close"],rowCallback:function(e){t.$router.push(0===e.type?{name:"display",params:{id:e.solr_id}}:{name:"detail",params:{id:e.solr_id}})},itemperPage:10,isCallback:function(t){return 0===t.state}}})]:t._e(),2===t.state?[a("v-row",{staticClass:"ml-2"},[a("v-col",[a("v-select",{attrs:{items:t.utils.getTextValue(t.types),width:"100%",color:"primary",label:"类型",outlined:""},model:{value:t.select,callback:function(e){t.select=e},expression:"select"}})],1),a("v-col",[a("v-text-field",{attrs:{filled:"",label:"关键字",required:""},model:{value:t.text,callback:function(e){t.text=e},expression:"text"}})],1),a("v-col",[a("v-btn",{staticClass:"mt-4",attrs:{color:"primary",outlined:""},on:{click:function(e){return t.lookup(t.state,t.dataMoney)}}},[t._v("查询")])],1)],1),a("Table",{attrs:{data:t.dataMoney,headers:t.headersMoney,callback:function(e){(t.CDialog.callback=function(){t.action(2,e)})&&(t.CDialog.open=!0)},itemkey:"id",issort:"",callbackIcon:"mdi-currency-usd-off",itemperPage:10}})]:t._e(),3===t.state?[a("v-btn",{staticClass:"mt-4",attrs:{color:"primary",outlined:""},on:{click:function(e){(t.dialog.open=!0)&&(t.dialog.state=1)}}},[t._v("添加活动")]),a("Table",{attrs:{data:t.dataActivity,headers:t.headersActivity,callback:function(e){t.action(3,e)},itemkey:"id",issort:"",callbackIcon:"mdi-trash-can-outline",rowCallback:function(e){t.window.open(e.url)},itemperPage:10}})]:t._e(),4===t.state?[a("div",{staticClass:"mx-auto wrapper"},[a("v-row",[a("v-col",[a("v-card",{staticStyle:{overflow:"auto","max-height":"500px"}},[a("v-list",[a("v-list-item-group",{attrs:{color:"primary"},model:{value:t.selectCtg,callback:function(e){t.selectCtg=e},expression:"selectCtg"}},[t._l(t.ctg,(function(e,i){return a("v-list-item",{key:i},[a("v-list-item-content",[a("v-list-item-title",[t._v(t._s(e.name))])],1),a("v-list-item-icon",{on:{click:function(e){return t.ctg.splice(i,1)}}},[a("v-icon",[t._v("mdi-trash-can-outline")])],1)],1)})),a("v-list-item",{on:{click:function(e){(t.addsubctg=!1)&&(t.dialog.open=!0)&&(t.dialog.state=3)}}},[a("v-icon",{staticStyle:{position:"relative",left:"calc(50% - 12px)"}},[t._v("mdi-plus")])],1)],2)],1)],1)],1),a("v-col",[void 0!==t.selectCtg?a("v-card",[a("v-list",[a("v-list-item-group",{attrs:{color:"primary"}},[t._l(t.ctg[t.selectCtg].subctg,(function(e,i){return a("v-list-item",{key:i},[a("v-list-item-content",[a("v-list-item-title",[t._v(t._s(e))])],1),a("v-list-item-icon",{on:{click:function(e){return t.ctg[t.selectCtg].subctg.splice(i,1)}}},[a("v-icon",[t._v("mdi-trash-can-outline")])],1)],1)})),a("v-list-item",{on:{click:function(e){(t.addsubctg=!0)&&(t.dialog.open=!0)&&(t.dialog.state=3)}}},[a("v-icon",{staticStyle:{position:"relative",left:"calc(50% - 12px)"}},[t._v("mdi-plus")])],1)],2)],1)],1):t._e()],1)],1),a("v-btn",{attrs:{outlined:"",color:"primary"},on:{click:function(e){return t.action(4)}}},[t._v("提交")])],1)]:t._e()],2)],1)],1),a("div",{staticStyle:{height:"50px"}}),a("v-bottom-navigation",{staticClass:"d-flex d-md-none",staticStyle:{position:"fixed"},attrs:{color:"primary",shift:"",absolute:""},model:{value:t.state,callback:function(e){t.state=e},expression:"state"}},t._l(t.tabs,(function(e,i){return a("v-btn",{key:i},[a("span",[t._v(t._s(e.name))]),a("v-icon",[t._v(t._s(e.icon))])],1)})),1)],1)},ti=[],ei=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-dialog",{attrs:{"max-width":"400"},model:{value:t.CDialog.open,callback:function(e){t.$set(t.CDialog,"open",e)},expression:"CDialog.open"}},[a("v-card",[a("v-card-title",[t._v("是否继续")]),a("v-card-text",[t._v("操作不可逆")]),a("v-card-actions",[a("v-spacer"),a("v-btn",{attrs:{color:"primary",text:""},on:{click:function(e){t.CDialog.open=!1}}},[t._v("取消")]),a("v-btn",{attrs:{color:"red",text:""},on:{click:function(e){return t.CDialog.callback()}}},[t._v("确认")])],1)],1)],1)},ai=[],ii={props:{CDialog:{open:Boolean,callback:Function}}},ni=ii,si=Object(o["a"])(ni,ei,ai,!1,null,null,null),oi=si.exports;C()(si,{VBtn:V["a"],VCard:U["a"],VCardActions:J["a"],VCardText:J["c"],VCardTitle:J["d"],VDialog:W["a"],VSpacer:st["a"]});var ri={props:{info:Object,infoLoaded:Boolean,snackbar:Object},components:{Table:Se,ConfirmDialog:oi},data(){return{utils:St,window:window,man:{name:"",password:""},dialog:{open:!1,state:0},CDialog:{open:!1,callback:null},state:0,tabs:[{name:"用户管理",icon:"mdi-account-badge-outline"},{name:"广告管理",icon:"mdi-post-outline"},{name:"资金流",icon:"mdi-cash-usd-outline"},{name:"活动",icon:"mdi-ticket"},{name:"分类管理",icon:"mdi-shape-outline"}],select:0,text:"",types:["全部","企业","工作室"],headers:[{text:"用户id",value:"id"},{text:"用户名",value:"username"},{text:"类型",value:"type"}],headersAD:[{text:"广告id",value:"id"},{text:"名字",value:"name"},{text:"所属",value:"belong"},{text:"金额",value:"money"},{text:"类型",value:"type"},{text:"状态",value:"state"}],ADstate:["未通过","通过"],headersMoney:[{text:"id",value:"id"},{text:"金额",value:"money"},{text:"用途",value:"usage"},{text:"付款方",value:"from"},{text:"收钱方",value:"to"}],headersActivity:[{text:"id",value:"id"},{text:"活动名",value:"name"},{text:"地址",value:"url"}],activity:{name:"",img:null,url:""},register:{name:"",password:"",repassword:""},headersComplain:[{text:"id",value:"id"},{text:"项目名称",value:"name"},{text:"发起方",value:"from"},{text:"理由",value:"from"},{text:"金额(百分比)",value:"money"},{text:"状态",value:"state"}],dataUser:[],dataAD:[],dataMoney:[],dataActivity:[],dataCom:[],ctg:[],selectCtg:0,addsubctg:!1,ctgName:""}},methods:{login(){_.a.post("/Platform/login",At.a.stringify(this.man)).then(t=>{"success"===t.data&&(this.dialog.open=!1,_.a.post("/Platform/info","type=basic").then(t=>{"NotLogin"!==t.data&&(this.info.id=t.data.id,this.info.name=t.data.name,this.info.type=t.data.type,3===this.info.type&&(this.tabs=[{name:"申诉管理",icon:"mdi-shape-outline"}],_.a.post("/Platform/manager","state=5").then(t=>{this.data[5]=t.data}).catch(t=>{console.log(t),this.snackbar.color="error",this.snackbar.text="服务器错误",this.snackbar.open=!0})))}).catch(t=>{console.log(t)}))}).catch()},lookup(t,e){var a="";switch(t){case 0:case 1:case 2:a="type="+this.select+"&text="+this.text;break;default:break}_.a.post("/Platform/manager","state="+this.state+"&"+a).then(t=>{t.data&&t.data.forEach((t,a)=>{this.$set(e,a,t),e[a].type=St.type[t.type],e[a].state=this.ADstate[t.state]})}).catch(t=>{console.log(t),this.snackbar.color="error",this.snackbar.text="服务器错误",this.snackbar.open=!0})},action(t,e){var a="&";switch(t){case 0:a+="id="+e.id;break;case 1:a+="solr_id="+e[0].id+"&do="+e[1];break;case 5:a+="id="+e[0].id+"&do="+e[1];break;case 2:a+="id="+e.id;break;case 3:a+="id="+e.id;break;case 4:a+="ctg="+JSON.stringify(["全部"].concat(this.ctg));break;default:break}_.a.post("/Platform/manager_action","state="+t+a).then(t=>{"success"===t.data&&(this.dialog.open=!1,this.snackbar.color="green",this.snackbar.text="成功",this.snackbar.open=!0)}).catch(t=>{console.log(t),this.snackbar.color="error",this.snackbar.text="服务器错误",this.snackbar.open=!0})},atvt_register(){if(this.$refs.form.validate()){let t=new FormData;t.append("name",this.activity.name),t.append("img",this.activity.img),t.append("url",this.activity.url),_.a.post("/Platform/activity_register",t).then(t=>{"success"===t.data&&(this.snackbar.color="green",this.snackbar.text="成功",this.snackbar.open=!0)}).catch(t=>{console.log(t),this.snackbar.color="error",this.snackbar.text="服务器错误",this.snackbar.open=!0})}}},created(){this.ctg=St.ctg.slice(1),this.info&&this.info.type&&(2===this.info.type||3===this.info.type?this.dialog.open=!0:this.$router.push("/home"))},watch:{infoLoaded:function(){0===this.info.type||1===this.info.type?this.$router.push("/home"):this.dialog.open=!1}}},li=ri,ci=Object(o["a"])(li,Za,ti,!1,null,null,null),di=ci.exports;C()(ci,{VAvatar:te["a"],VBottomNavigation:Sa["a"],VBtn:V["a"],VCard:U["a"],VCardActions:J["a"],VCardText:J["c"],VCardTitle:J["d"],VCol:Ge["a"],VDialog:W["a"],VFabTransition:Ia["c"],VFileInput:Ne["a"],VForm:Y["a"],VIcon:O["a"],VList:K["a"],VListItem:X["a"],VListItemAvatar:Z["a"],VListItemContent:tt["a"],VListItemGroup:et["a"],VListItemIcon:Pa["a"],VListItemTitle:tt["c"],VRow:Ke["a"],VSelect:Ee["a"],VSpacer:st["a"],VSubheader:ot["a"],VTextField:rt["a"]}),i["a"].use(d["a"]);var ui=new d["a"]({routes:[{path:"/",name:"index",component:Tt,redirect:{name:"home"},children:[{path:"/home",name:"home",component:fa},{path:"/center",name:"center",component:Ta},{path:"/display",name:"display",component:Xa},{path:"/edit",name:"edit",component:Ba},{path:"/search",name:"search",component:Ua},{path:"/detail",name:"detail",component:ia},{path:"/manage",name:"manage",component:di}]},{path:"/login",name:"login",component:P},{path:"/register",name:"register",component:A}]}),pi=a("f309");i["a"].use(pi["a"]);var vi=new pi["a"]({icons:{iconfont:"mdi"}});i["a"].config.productionTip=!1,new i["a"]({router:ui,vuetify:vi,render:t=>t(c)}).$mount("#app");var mi=window.OneSignal||[];mi.push((function(){mi.init({appId:"c386c41e-fba0-4c27-b561-10d8a6d9b13c"}),mi.on("subscriptionChange",(function(){mi.getUserId((function(t){_.a.post("/Platform/token",t).then(t=>{"success"!==t.data&&console.log("token上传失败")}).catch(t=>{console.log(t)})}))}))}))},"59e8":function(t,e,a){},"5a7a":function(t,e,a){"use strict";var i=a("2ba6"),n=a.n(i);n.a},"5c0b":function(t,e,a){"use strict";var i=a("13e3"),n=a.n(i);n.a},"5d20":function(t,e,a){"use strict";var i=a("4754"),n=a.n(i);n.a},"5fbe":function(t,e,a){t.exports=a.p+"img/logo2.5759dbcc.png"},"61da":function(t,e,a){},"7d05":function(t,e,a){"use strict";var i=a("fd1e"),n=a.n(i);n.a},"854c":function(t,e,a){"use strict";var i=a("feb7"),n=a.n(i);n.a},"8fc1":function(t,e,a){"use strict";var i=a("50cf"),n=a.n(i);n.a},a025:function(t,e,a){},b4f2:function(t,e,a){},b977:function(t,e,a){"use strict";var i=a("61da"),n=a.n(i);n.a},bbb6:function(t,e,a){t.exports=a.p+"img/head_bkgrd.a94dd881.jpg"},c42e:function(t,e,a){},ca2b:function(t,e,a){},d9b5:function(t,e,a){"use strict";var i=a("b4f2"),n=a.n(i);n.a},fd1e:function(t,e,a){},feb7:function(t,e,a){}});
//# sourceMappingURL=app.b4791780.js.map